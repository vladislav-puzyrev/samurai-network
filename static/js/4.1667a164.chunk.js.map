{"version":3,"sources":["components/Content/Messages/Messages.module.css","components/Content/Messages/Dialog/Dialog.module.css","components/Content/Messages/Message/Message.module.css","components/Content/Messages/Dialog/Dialog.jsx","components/Content/Messages/Message/Message.jsx","components/Content/Messages/Messages.jsx","hoc/withAuthRedirect.js","components/Content/Messages/MessagesContainer.jsx"],"names":["module","exports","Dialog","props","className","styles","dialog","to","String","id","name","Message","chatItem","profile","avatar","src","alt","message","maxLength","maxLengthCreator","Textarea","formControl","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","validate","required","component","Messages","dialogsElements","state","dialogs","map","key","username","messagesElements","messages","output","chat","formData","buttonOnClick","mapStateToPropsForRedirect","isAuth","auth","compose","connect","messagesPage","dispatch","sendMessageActionCreator","Component","RedirectComponent","this","React"],"mappings":"6GACAA,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,yBAAyB,QAAU,0BAA0B,KAAO,yB,oBCArID,EAAOC,QAAU,CAAC,OAAS,yB,oBCA3BD,EAAOC,QAAU,CAAC,SAAW,0BAA0B,QAAU,yBAAyB,OAAS,0B,iHCWpFC,MARf,SAAgBC,GACf,OACC,wBAAIC,UAAWC,IAAOC,QACrB,kBAAC,IAAD,CAASC,GAAE,oBAAeC,OAAOL,EAAMM,MAAQN,EAAMO,Q,kBCUzCC,MAdf,SAAiBR,GAChB,OACC,wBAAIC,UAAWC,IAAOO,UACrB,yBAAKR,UAAWC,IAAOQ,SACtB,yBAAKT,UAAWC,IAAOS,OAAQC,IAAI,gEAAgEC,IAAI,WACvG,6BAAMb,EAAMO,OAEb,6BACEP,EAAMc,W,kCCHLC,EAAYC,YAAiB,IAC7BC,EAAWC,YAAY,YAuC7B,IAAMC,EAAsBC,YAAU,CAACC,KAAM,cAAjBD,EAb5B,SAAwBpB,GACpB,OACI,0BAAMsB,SAAUtB,EAAMuB,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOjB,KAAK,UAAUkB,SAAU,CAACC,IAAUX,GAAYY,UAAWV,KAEtE,6BACI,+FAQDW,EAvCf,SAAkB5B,GACd,IAAM6B,EAAkB7B,EAAM8B,MAAMC,QAAQC,KACxC,SAAA7B,GAAM,OAAI,kBAAC,EAAD,CAAQ8B,IAAK9B,EAAOG,GAAIA,GAAIH,EAAOG,GAAIC,KAAMJ,EAAO+B,cAG5DC,EAAmBnC,EAAM8B,MAAMM,SAASJ,KAC1C,SAAAlB,GAAO,OAAI,kBAAC,EAAD,CAASmB,IAAKnB,EAAQR,GAAIC,KAAMO,EAAQoB,SAAUpB,QAASA,EAAQA,aAGlF,OACI,yBAAKb,UAAWC,IAAOkC,UACnB,yBAAKnC,UAAWC,IAAOmC,QACnB,wBAAIpC,UAAWC,IAAO6B,SACjBF,GAEL,wBAAI5B,UAAWC,IAAOoC,MACjBH,IAGT,kBAAChB,EAAD,CAAqBG,SAAU,SAACiB,GAAcvC,EAAMwC,cAAcD,Q,wDC1B9E,SAASE,EAA2BX,GAChC,MAAO,CACHY,OAAQZ,EAAMa,KAAKD,Q,WCmBZE,sBACXC,aApBJ,SAAyBf,GACrB,MAAO,CACHA,MAAOA,EAAMgB,iBAIrB,SAA4BC,GACxB,MAAO,CACHP,cADG,SACWD,GACVQ,EAASC,YAAyBT,UDLvC,SAA0BU,GAAY,IACnCC,EADkC,iLAGhC,OAAKC,KAAKnD,MAAM0C,OACT,kBAACO,EAAcE,KAAKnD,OADI,kBAAC,IAAD,CAAUI,GAAG,eAHZ,GACRgD,IAAMH,WAOtC,OAAOJ,YAAQJ,EAARI,CAAoCK,KCOhCN,CAGbhB","file":"static/js/4.1667a164.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__2WosV\",\"output\":\"Messages_output__248O2\",\"dialogs\":\"Messages_dialogs__3vxNW\",\"chat\":\"Messages_chat__1jnvH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__1TBUV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatItem\":\"Message_chatItem__1uDfr\",\"profile\":\"Message_profile__2ZXh3\",\"avatar\":\"Message_avatar__1ezTO\"};","import React from 'react';\nimport styles from './Dialog.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nfunction Dialog(props) {\n\treturn (\n\t\t<li className={styles.dialog}>\n\t\t\t<NavLink to={`/messages/${String(props.id)}`}>{props.name}</NavLink>\n\t\t</li>\n\t);\n}\n\nexport default Dialog;","import React from 'react';\nimport styles from './Message.module.css';\n\nfunction Message(props) {\n\treturn (\n\t\t<li className={styles.chatItem}>\n\t\t\t<div className={styles.profile}>\n\t\t\t\t<img className={styles.avatar} src=\"https://miro.medium.com/max/480/1*5LGjgBL2kWpog3AodB569A.jpeg\" alt=\"avatar\" />\n\t\t\t\t<div>{props.name}</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{props.message}\n\t\t\t</div>\n\t\t</li>\n\t);\n}\n\nexport default Message;","import React from 'react';\nimport styles from './Messages.module.css';\nimport Dialog from \"./Dialog/Dialog\";\nimport Message from \"./Message/Message\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {formControl} from \"../../common/FormsControls/FormsControls\";\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\n\nconst maxLength = maxLengthCreator(10);\nconst Textarea = formControl('textarea');\n\nfunction Messages(props) {\n    const dialogsElements = props.state.dialogs.map(\n        dialog => <Dialog key={dialog.id} id={dialog.id} name={dialog.username}/>\n    );\n\n    const messagesElements = props.state.messages.map(\n        message => <Message key={message.id} name={message.username} message={message.message}/>\n    );\n\n    return (\n        <div className={styles.messages}>\n            <div className={styles.output}>\n                <ul className={styles.dialogs}>\n                    {dialogsElements}\n                </ul>\n                <ul className={styles.chat}>\n                    {messagesElements}\n                </ul>\n            </div>\n            <AddMessageFormRedux onSubmit={(formData) => {props.buttonOnClick(formData)}}/>\n        </div>\n    );\n}\n\nfunction AddMessageForm(props) {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field name='message' validate={[required, maxLength]} component={Textarea}/>\n            </div>\n            <div>\n                <button>Отправить</button>\n            </div>\n        </form>\n    );\n}\n\nconst AddMessageFormRedux = reduxForm({form: 'addMessage'})(AddMessageForm);\n\nexport default Messages;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nfunction mapStateToPropsForRedirect(state) {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    };\r\n}\r\n\r\nexport function withAuthRedirect(Component) {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>;\r\n            return <Component {...this.props}/>;\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}","import {sendMessageActionCreator} from \"../../../redux/messages-reducer\";\nimport Messages from \"./Messages\";\nimport {connect} from \"react-redux\";\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nfunction mapStateToProps(state) {\n    return {\n        state: state.messagesPage\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        buttonOnClick(formData) {\n            dispatch(sendMessageActionCreator(formData));\n        }\n    };\n}\n\n/*\nlet AuthRedirectComponent = withAuthRedirect(Messages);\nconst MessagesContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\nexport default MessagesContainer;*/\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthRedirect\n)(Messages);"],"sourceRoot":""}