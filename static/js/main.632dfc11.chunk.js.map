{"version":3,"sources":["components/Sidebar/Friends/Friends.module.css","components/Sidebar/Menu/Menu.module.css","api/api.js","redux/messages-reducer.js","components/Footer/Footer.module.css","components/Sidebar/Sidebar.module.css","components/Content/Content.module.css","components/common/Preloader/Preloader.module.css","assets/images/preloader.gif","components/common/FormsControls/FormsControls.module.css","serviceWorker.js","components/Footer/Footer.jsx","components/Sidebar/Friends/Friends.jsx","components/Sidebar/Menu/Menu.jsx","components/Sidebar/Sidebar.jsx","components/Content/Users/PaginationItem/PaginationItem.jsx","components/Content/Users/User/User.jsx","components/Content/Users/Users.jsx","redux/users-reducer.js","redux/users-selectors.js","components/Content/Users/UsersContainer.jsx","components/Content/News/News.jsx","components/Content/Music/Music.jsx","components/Content/Settings/Settings.jsx","redux/auth-reducer.ts","components/Content/Login/Login.jsx","hoc/withSuspense.js","components/Content/Content.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.ts","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/common/Preloader/Preloader.jsx","utils/validators/validators.js","components/Content/Users/Users.module.css","components/Header/Header.module.css","App.module.css","components/Content/Users/PaginationItem/PaginationItem.module.css","components/Content/Users/User/User.module.css","components/common/FormsControls/createField.js","redux/profile-reducer.js","assets/images/defaultAvatar.png"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","count","page","get","then","res","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","initialState","dialogs","id","username","messages","message","sendMessageActionCreator","type","messagesReducer","state","action","newMessage","length","Boolean","window","location","hostname","match","Footer","className","styles","footer","Friends","friends","friendsTitle","friendsList","friendsListItem","avatar","src","alt","name","Menu","menu","menuItem","exact","to","menuLink","activeClassName","active","Sidebar","aside","PaginationItem","props","activeStyle","paginationItemActive","paginationItem","number","User","user","avatarBox","photos","small","defaultAvatar","width","followed","disabled","followingInProgress","some","onClick","Users","paginationItems","i","currentPage","totalUsersCount","push","key","title","pagination","event","onPageChanged","target","textContent","setCurrentPage","isFetching","Preloader","users","map","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","pageSize","acceptFollow","acceptUnfollow","setIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","async","resultCode","usersReducer","totalUsers","filter","usersPage","getUsersSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","getRequestUsers","this","React","Component","connect","response","items","totalCount","bind","News","Music","Settings","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","console","log","Input","createField","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","validate","required","htmlFor","style","auth","stopSubmit","_error","withSuspense","Suspense","fallback","MessagesContainer","lazy","ProfileContainer","Content","content","path","render","Header","header","container","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","sidebar","init","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","_store","AppConnect","initializeApp","Promise","all","useEffect","main","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","value","maxLengthCreator","FormElement","meta","input","isError","touched","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","text","likes","addPostActionCreator","newPost","setStatus","getUsersProfile","file","getState","reject","postText","postId"],"mappings":"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","file":"static/js/main.632dfc11.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__2pd-3\",\"friendsTitle\":\"Friends_friendsTitle__2OCH8\",\"friendsList\":\"Friends_friendsList__2jOr8\",\"friendsListItem\":\"Friends_friendsListItem__3pxKP\",\"avatar\":\"Friends_avatar__qQ2lI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__27qdF\",\"menuLink\":\"Menu_menuLink__EHAtu\",\"active\":\"Menu_active__2D1vX\"};","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': '0408f290-d27f-4e1c-bba9-4d253322100f',\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(count, page) {\r\n    return instance.get(`users?count=${count}&page=${page}`)\r\n      .then((res) => res.data);\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, {status: status});\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append('image', photoFile);\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get('auth/me');\r\n  },\r\n  login(email, password, rememberMe = false, captcha) {\r\n    return instance.post('auth/login', {email, password, rememberMe, captcha});\r\n  },\r\n  logout() {\r\n    return instance.delete('auth/login');\r\n  },\r\n};\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get('security/get-captcha-url');\r\n  },\r\n};","const initialState = {\r\n  dialogs: [\r\n    {id: 1, username: 'Димыч'},\r\n    {id: 2, username: 'Саша'},\r\n    {id: 3, username: 'Валера'},\r\n    {id: 4, username: 'Иван'},\r\n    {id: 5, username: 'Света'},\r\n  ],\r\n  messages: [\r\n    {id: 1, username: 'Димыч', message: 'Я люблю react!'},\r\n    {id: 2, username: 'Димыч', message: 'Я люблю react!'},\r\n  ],\r\n};\r\n\r\nfunction messagesReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'SEND-MESSAGE':\r\n      const nextId = state.messages[state.messages.length - 1].id + 1;\r\n      const newMessage = {\r\n        id: nextId,\r\n        message: action.formData.message,\r\n      };\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, newMessage],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageActionCreator = (formData) => ({\r\n  type: 'SEND-MESSAGE',\r\n  formData: formData,\r\n});\r\n\r\nexport default messagesReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__3hmYT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Sidebar_aside__1e2NK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__fZ86A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__oGcz1\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.584b607f.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__JuxJL\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Login is cached for offline use.\" message.\n              console.log('Login is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport styles from './Footer.module.css';\n\nfunction Footer() {\n  return (\n      <footer className={styles.footer}>\n        Footer\n      </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\nimport styles from './Friends.module.css';\n\nfunction Friends() {\n  return (\n      <div className={styles.friends}>\n        <div className={styles.friendsTitle}>\n          Друзья\n        </div>\n        <ul className={styles.friendsList}>\n          <li className={styles.friendsListItem}>\n            <img className={styles.avatar}\n                 src=\"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg\"\n                 alt=\"avatar\"/>\n            <div className={styles.name}>\n              Димыч\n            </div>\n          </li>\n\n          <li className={styles.friendsListItem}>\n            <img className={styles.avatar}\n                 src=\"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg\"\n                 alt=\"avatar\"/>\n            <div className={styles.name}>\n              Димыч\n            </div>\n          </li>\n\n          <li className={styles.friendsListItem}>\n            <img className={styles.avatar}\n                 src=\"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg\"\n                 alt=\"avatar\"/>\n            <div className={styles.name}>\n              Димыч\n            </div>\n          </li>\n\n          <li className={styles.friendsListItem}>\n            <img className={styles.avatar}\n                 src=\"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg\"\n                 alt=\"avatar\"/>\n            <div className={styles.name}>\n              Димыч\n            </div>\n          </li>\n\n          <li className={styles.friendsListItem}>\n            <img className={styles.avatar}\n                 src=\"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg\"\n                 alt=\"avatar\"/>\n            <div className={styles.name}>\n              Димыч\n            </div>\n          </li>\n\n          <li className={styles.friendsListItem}>\n            <img className={styles.avatar}\n                 src=\"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg\"\n                 alt=\"avatar\"/>\n            <div className={styles.name}>\n              Димыч\n            </div>\n          </li>\n        </ul>\n      </div>\n  );\n}\n\nexport default Friends;","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport styles from './Menu.module.css';\n\nfunction Menu() {\n  return (\n      <ul className={styles.menu}>\n        <li className={styles.menuItem}>\n          <NavLink exact to=\"/profile\" className={styles.menuLink}\n                   activeClassName={styles.active}>Профиль</NavLink>\n        </li>\n        <li className={styles.menuItem}>\n          <NavLink to=\"/messages\" className={styles.menuLink}\n                   activeClassName={styles.active}>Сообщения</NavLink>\n        </li>\n        <li className={styles.menuItem}>\n          <NavLink to=\"/users\" className={styles.menuLink}\n                   activeClassName={styles.active}>Пользователи</NavLink>\n        </li>\n        <li className={styles.menuItem}>\n          <NavLink to=\"/news\" className={styles.menuLink}\n                   activeClassName={styles.active}>Новости</NavLink>\n        </li>\n        <li className={styles.menuItem}>\n          <NavLink to=\"/music\" className={styles.menuLink}\n                   activeClassName={styles.active}>Музыка</NavLink>\n        </li>\n        <li className={styles.menuItem}>\n          <NavLink to=\"/settings\" className={styles.menuLink}\n                   activeClassName={styles.active}>Настройки</NavLink>\n        </li>\n      </ul>\n  );\n}\n\nexport default Menu;","import React from 'react';\nimport styles from './Sidebar.module.css';\nimport Friends from './Friends/Friends';\nimport Menu from './Menu/Menu';\n\nfunction Sidebar() {\n  return (\n      <aside className={styles.aside}>\n        <Menu/>\n        <Friends/>\n      </aside>\n  );\n}\n\nexport default Sidebar;","import React from 'react';\r\nimport styles from './PaginationItem.module.css';\r\n\r\nfunction PaginationItem(props) {\r\n    const activeStyle = props.active ? styles.paginationItemActive : '';\r\n\r\n    return (\r\n        <li className={styles.paginationItem + ' ' + activeStyle}>{props.number}</li>\r\n    );\r\n}\r\n\r\nexport default PaginationItem;","import React from 'react';\r\nimport styles from './User.module.css';\r\nimport defaultAvatar from '../../../../assets/images/defaultAvatar.png';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nfunction User(props) {\r\n    return (\r\n        <li className={styles.user}>\r\n            <div className={styles.avatarBox}>\r\n                <NavLink to={`/profile/${props.user.id}`}>\r\n                    <img src={props.user.photos.small || defaultAvatar} alt='avatar' width='100'/>\r\n                </NavLink>\r\n                {\r\n                    props.user.followed ?\r\n                        <button disabled={props.followingInProgress.some(id => id === props.user.id)} onClick={() => {\r\n                            props.unfollow(props.user.id)\r\n                        }}>unfollow</button> :\r\n\r\n                        <button disabled={props.followingInProgress.some(id => id === props.user.id)} onClick={() => {\r\n                            props.follow(props.user.id)\r\n                        }}>follow</button>\r\n                }\r\n            </div>\r\n\r\n            <div>\r\n                {props.user.name}\r\n                {props.user.status}\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport PaginationItem from './PaginationItem/PaginationItem';\r\nimport User from './User/User';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\n\r\nfunction Users(props) {\r\n    // const pagesQuantity = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    const paginationItems = [];\r\n\r\n    for (let i = +props.currentPage; i < +props.currentPage + 5; i++) {\r\n        if (i < +props.totalUsersCount) {\r\n            paginationItems.push(\r\n                <PaginationItem key={i} number={i} active={props.currentPage === +i}/>\r\n            );\r\n        }\r\n    }\r\n\r\n    function onClickHandler(event) {\r\n        props.onPageChanged(event.target.textContent);\r\n        props.setCurrentPage(event.target.textContent);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className={styles.title}>Пользователи</h1>\r\n            <ul className={styles.pagination} onClick={onClickHandler}>\r\n                {paginationItems}\r\n            </ul>\r\n\r\n            {props.isFetching && <Preloader/>}\r\n            <ul className={styles.users}>\r\n                {\r\n                    props.users.map((user) => (\r\n                        <User {...props} key={user.id} user={user}/>\r\n                    ))\r\n                }\r\n            </ul>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Users;","import {usersAPI} from '../api/api';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\nfunction usersReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.id) {\r\n            return {...user, followed: true};\r\n          }\r\n          return user;\r\n        }),\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.id) {\r\n            return {...user, followed: false};\r\n          }\r\n          return user;\r\n        }),\r\n      };\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n      };\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalUsers,\r\n      };\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching ?\r\n            [...state.followingInProgress, action.userId] :\r\n            state.followingInProgress.filter(id => id !== action.userId),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const acceptFollow = (id) => ({type: FOLLOW, id});\r\nexport const acceptUnfollow = (id) => ({type: UNFOLLOW, id});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setTotalUsers = (totalUsers) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  totalUsers,\r\n});\r\nexport const setIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const getRequestUsers = (pageSize, currentPage) => async (dispatch) => {\r\n  dispatch(setIsFetching(true));\r\n  const response = await usersAPI.getUsers(pageSize, currentPage);\r\n  dispatch(setUsers(response.items));\r\n  dispatch(setTotalUsers(response.totalCount));\r\n  dispatch(setIsFetching(false));\r\n};\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n  let apiMethod = usersAPI.follow.bind(usersAPI);\r\n  followUnfollowFlow(dispatch, userId, apiMethod, acceptFollow);\r\n};\r\n\r\nexport const unfollow = (userId) => (dispatch) => {\r\n  let apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n  followUnfollowFlow(dispatch, userId, apiMethod, acceptUnfollow);\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n    dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  const response = await apiMethod(userId);\r\n  if (response.data.resultCode === 0) dispatch(actionCreator(userId));\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport default usersReducer;","import {createSelector} from 'reselect';\r\n\r\nexport const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getUsersSelector__BadRender = (state) => {\r\n  return getUsers(state).filter(() => true);\r\n};\r\n\r\nexport const getUsersSelector = createSelector(getUsers, (users) => {\r\n      return users.filter(() => true);\r\n    },\r\n);\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};","import {connect} from 'react-redux';\r\nimport Users from './Users';\r\nimport {\r\n  getRequestUsers,\r\n  setCurrentPage,\r\n  setIsFetching,\r\n  follow,\r\n  unfollow,\r\n} from '../../../redux/users-reducer';\r\nimport React from 'react';\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsersSelector,\r\n} from '../../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getRequestUsers(this.props.pageSize, this.props.currentPage);\r\n  }\r\n\r\n  // WITHOUT BIND\r\n  onPageChanged = (currentPage) => {\r\n    this.props.getRequestUsers(this.props.pageSize, currentPage);\r\n  };\r\n\r\n  render() {\r\n    return <Users {...this.props} onPageChanged={this.onPageChanged}/>;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    users: getUsersSelector(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n}\r\n\r\n/*function mapDispatchToProps(dispatch) {\r\n    return {\r\n        follow(userId) {\r\n            dispatch(followAC(userId));\r\n        },\r\n        unfollow(userId) {\r\n            dispatch(unfollowAC(userId));\r\n        },\r\n        setUsers(users) {\r\n            dispatch(setUsersAC(users));\r\n        },\r\n        setCurrentPage(currentPage) {\r\n            dispatch(setCurrentPageAC(currentPage));\r\n        },\r\n        setTotalUsers(totalUsers) {\r\n            dispatch(setTotalUsersAC(totalUsers));\r\n        },\r\n        setIsFetching(isFetching) {\r\n            dispatch(setIsFetchingAC(isFetching));\r\n        }\r\n    }\r\n}*/\r\n\r\nexport default connect(mapStateToProps, {\r\n  setCurrentPage,\r\n  setIsFetching,\r\n  getRequestUsers,\r\n  follow,\r\n  unfollow,\r\n})(UsersContainer);","import React from 'react';\nimport styles from './News.module.css';\n\nfunction News() {\n  return (\n      <div className={styles.messages}>\n        Новости\n      </div>\n  );\n}\n\nexport default News;","import React from 'react';\nimport styles from './Music.module.css';\n\nfunction Music() {\n  return (\n      <div className={styles.messages}>\n        Музыка\n      </div>\n  );\n}\n\nexport default Music;","import React from 'react';\nimport styles from './Settings.module.css';\n\nfunction Settings() {\n  return (\n      <div className={styles.messages}>\n        Настройки\n      </div>\n  );\n}\n\nexport default Settings;","import {authAPI, securityAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'social-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nexport type InitialStateType = {\r\n  userId: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isFetching: boolean\r\n  isAuth: boolean\r\n  captchaUrl: string | null\r\n};\r\n\r\nconst initialState: InitialStateType = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\n\r\nfunction authReducer(state = initialState, action: any): InitialStateType {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      console.log(action.captchaUrl);\r\n      return {\r\n        ...state,\r\n        captchaUrl: action.captchaUrl,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// setAuthUserData\r\ntype SetAuthUserDataActionPayloadType = {\r\n  userId: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isAuth: boolean\r\n};\r\n\r\ntype SetAuthUserDataActionType = {\r\n  type: typeof SET_USER_DATA\r\n  payload: SetAuthUserDataActionPayloadType\r\n};\r\n\r\nexport const setAuthUserData = (\r\n    userId: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean,\r\n): SetAuthUserDataActionType => (\r\n    {type: SET_USER_DATA, payload: {userId, email, login, isAuth}}\r\n);\r\n\r\n// getCaptchaUrlSuccess\r\ntype GetCaptchaUrlSuccessType = {\r\n  type: typeof GET_CAPTCHA_URL_SUCCESS\r\n  captchaUrl: string\r\n};\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string): GetCaptchaUrlSuccessType => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  captchaUrl: captchaUrl,\r\n});\r\n\r\n// getAuthUserData\r\nexport const getAuthUserData = () => async (dispatch: any) => {\r\n  const response = await authAPI.me();\r\n\r\n  if (response.data.resultCode === 0) {\r\n    let {id, email, login} = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\n// login\r\nexport const login = (\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha: string,\r\n) => async (dispatch: any) => {\r\n  const response = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n\r\n    dispatch(stopSubmit(\r\n        'login',\r\n        {_error: response.data.messages[0]},\r\n    ));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n  const response = await authAPI.logout();\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: any) => {\r\n  const response = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = response.data.url;\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {createField} from '../../common/FormsControls/createField';\r\nimport {required} from '../../../utils/validators/validators';\r\nimport {connect} from 'react-redux';\r\nimport {login} from '../../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst Input = createField('input');\r\n\r\nfunction Login(props) {\r\n  const onSubmit = (formData) => {\r\n    const {login, password, rememberMe, captcha} = formData;\r\n    props.login(login, password, rememberMe, captcha);\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to='/profile'/>;\r\n  }\r\n\r\n  return (\r\n      <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit}/>\r\n      </div>\r\n  );\r\n}\r\n\r\nfunction LoginForm({handleSubmit, error, captchaUrl}) {\r\n  return (\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <Field type='text' placeholder='Логин' name='login' component={Input}\r\n                 validate={[required]}/>\r\n        </div>\r\n        <div>\r\n          <Field type='password' placeholder='Пароль' name='password'\r\n                 component={Input} validate={[required]}/>\r\n        </div>\r\n        <Field type='checkbox' name='rememberMe' id='rememberMe'\r\n               component={Input}/>\r\n        <label htmlFor=\"rememberMe\">Запомнить меня</label>\r\n\r\n        {captchaUrl && <img src={captchaUrl} alt='captcha'/>}\r\n        {captchaUrl &&\r\n        <Field type='text' placeholder='Капча' name='captcha' component={Input}\r\n               validate={[required]}/>}\r\n\r\n        {error ? <div style={{'color': 'red'}}>{error}</div> : null}\r\n        <div>\r\n          <button>Войти</button>\r\n        </div>\r\n      </form>\r\n  );\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nexport default connect(\r\n    (state) => ({isAuth: state.auth.isAuth, captchaUrl: state.auth.captchaUrl}),\r\n    {login})(Login);","import Preloader from '../components/common/Preloader/Preloader';\r\nimport React from 'react';\r\n\r\nexport function withSuspense(Component) {\r\n  return (props) => (\r\n      <React.Suspense fallback={<Preloader/>}>\r\n        <Component {...props}/>\r\n      </React.Suspense>\r\n  );\r\n}","import React from 'react';\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport styles from './Content.module.css';\r\nimport UsersContainer from './Users/UsersContainer';\r\nimport News from './News/News';\r\nimport Music from './Music/Music';\r\nimport Settings from './Settings/Settings';\r\nimport Login from './Login/Login';\r\nimport {withSuspense} from '../../hoc/withSuspense';\r\n\r\nconst MessagesContainer = React.lazy(\r\n    () => import('./Messages/MessagesContainer'),\r\n);\r\nconst ProfileContainer = React.lazy(\r\n    () => import('./Profile/ProfileContainer'),\r\n);\r\n\r\nfunction Content() {\r\n  return (\r\n      <div className={styles.content}>\r\n        <Switch>\r\n          <Route exact path='/' render={() => <Redirect to='/profile'/>}/>\r\n          <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n          <Route path='/messages' render={withSuspense(MessagesContainer)}/>\r\n          <Route path='/users' render={() => <UsersContainer/>}/>\r\n          <Route path='/news' component={News}/>\r\n          <Route path='/music' component={Music}/>\r\n          <Route path='/settings' component={Settings}/>\r\n          <Route path='/login' render={() => <Login/>}/>\r\n          <Route path='*' render={() => '404'}/>\r\n        </Switch>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Content;","import React from 'react';\nimport styles from './Header.module.css';\nimport {NavLink} from 'react-router-dom';\n\nfunction Header(props) {\n  return (\n      <header className={styles.header}>\n        <div className={styles.container}>\n          <div>LOGO</div>\n          {\n            props.isAuth ?\n                <div>{props.login} - <button\n                    onClick={props.logout}>Выйти</button></div> :\n                <NavLink to='/login' className={styles.login}>Login</NavLink>\n          }\n        </div>\n      </header>\n  );\n}\n\nexport default Header;","import React from 'react';\nimport Header from './Header';\nimport {logout} from '../../redux/auth-reducer';\nimport {connect} from 'react-redux';\n\nfunction HeaderContainer(props) {\n  return (\n      <Header {...props}/>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n});\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import {getAuthUserData} from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nexport type InitialStateType = {\r\n  initialized: boolean\r\n};\r\n\r\nconst initialState: InitialStateType = {\r\n  initialized: false,\r\n};\r\n\r\nfunction appReducer(state = initialState, action: any): InitialStateType {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ntype InitializedSuccessType = {\r\n  type: typeof INITIALIZED_SUCCESS\r\n};\r\nexport const initializedSuccess = (): InitializedSuccessType => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch: any) => {\r\n  // Когда все промисы будут resolve\r\n  Promise.all([\r\n    dispatch(getAuthUserData()),\r\n  ]).then(() => {\r\n    dispatch(initializedSuccess());\r\n  });\r\n};\r\n\r\nexport default appReducer;","const initialState = {\r\n  friends: [\r\n    {\r\n      id: 1,\r\n      username: 'Димыч',\r\n      avatar: 'https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg',\r\n    },\r\n    {\r\n      id: 2,\r\n      username: 'Колян',\r\n      avatar: 'https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg',\r\n    },\r\n    {\r\n      id: 3,\r\n      username: 'Серега',\r\n      avatar: 'https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg',\r\n    },\r\n  ],\r\n};\r\n\r\nfunction sidebarReducer(state = initialState, action) {\r\n  return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport messagesReducer from './messages-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport appReducer from './app-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  messagesPage: messagesReducer,\r\n  usersPage: usersReducer,\r\n  sidebar: sidebarReducer,\r\n  auth: authReducer,\r\n  init: appReducer,\r\n  form: formReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers,\r\n    composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow._store = store;\r\nexport default store;","import React, {useEffect} from 'react';\nimport {connect, Provider} from 'react-redux';\nimport styles from './App.module.css';\nimport Footer from './components/Footer/Footer';\nimport Sidebar from './components/Sidebar/Sidebar';\nimport Content from './components/Content/Content';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport {initializeApp} from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from './redux/redux-store';\nimport {HashRouter} from 'react-router-dom';\n\nfunction App(props) {\n  useEffect(() => {\n    props.initializeApp();\n  });\n\n  if (!props.initialized) {\n    return <Preloader/>;\n  }\n\n  return (\n      <div className={styles.page}>\n        <HeaderContainer/>\n        <main className={styles.main}>\n          <Sidebar/>\n          <Content/>\n        </main>\n        <Footer/>\n      </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    initialized: state.init.initialized,\n  };\n}\n\nconst AppConnect = connect(mapStateToProps, {initializeApp})(App);\n\nexport default function AppContainer(props) {\n  return (\n      <Provider store={store}>\n        <HashRouter>\n          <AppConnect/>\n        </HashRouter>\n      </Provider>\n  );\n}\n","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppContainer from './App';\n\nReactDOM.render(<AppContainer/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport styles from './Preloader.module.css';\nimport preloader from '../../../assets/images/preloader.gif';\n\nfunction Preloader() {\n  return (\n      <img className={styles.preloader} src={preloader} alt=\"load\"/>\n  );\n}\n\nexport default Preloader;","export const required = (value) => {\r\n  if (!value) return 'Поле обязательное';\r\n};\r\n\r\nexport const maxLengthCreator = (length) => (value) => {\r\n  if (value.length > length) return `Максимальная длина - ${length}`;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Users_pagination__nolDT\",\"users\":\"Users_users__2YeWT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2CR8J\",\"container\":\"Header_container__HDvgl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"App_page__1LZ-Q\",\"main\":\"App_main__3O7Q8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationItem\":\"PaginationItem_paginationItem__10Dwb\",\"paginationItemActive\":\"PaginationItem_paginationItemActive__vaSqg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarBox\":\"User_avatarBox__1_XPd\"};","import React from 'react';\r\nimport styles from './FormsControls.module.css';\r\n\r\nexport function createField(FormElement) {\r\n  return function({meta, input, ...props}) {\r\n    const isError = meta.error && meta.touched;\r\n\r\n    return (\r\n        <span className={(isError || null) && styles.error}>\r\n          <FormElement {...input} {...props}/>\r\n          {isError && <span>{meta.error}</span>}\r\n        </span>\r\n    );\r\n  };\r\n\r\n}","import {profileAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nconst initialState = {\r\n  posts: [\r\n    {id: 1, text: 'Вам нравится React?', likes: 4},\r\n    {id: 2, text: 'hey', likes: 2},\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n};\r\n\r\nfunction profileReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'ADD-POST':\r\n      const nextId = state.posts[state.posts.length - 1].id + 1;\r\n      const newPost = {\r\n        id: nextId,\r\n        text: action.post,\r\n        likes: 0,\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        postText: '',\r\n      };\r\n\r\n    case 'SET-USER-PROFILE':\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(post => post.id !== action.postId),\r\n      };\r\n\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile, photos: action.photos},\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (formData) => (\r\n    {type: 'ADD-POST', post: formData.newPost}\r\n);\r\nexport const setUserProfile = (profile) => (\r\n    {type: 'SET-USER-PROFILE', profile: profile}\r\n);\r\nexport const setStatus = (status) => (\r\n    {type: SET_STATUS, status: status}\r\n);\r\nexport const deletePost = (postId) => (\r\n    {type: DELETE_POST, postId: postId}\r\n);\r\nexport const savePhotoSuccess = (photos) => (\r\n    {type: SAVE_PHOTO_SUCCESS, photos: photos}\r\n);\r\n\r\nexport const getUsersProfile = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getProfile(userId);\r\n  dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  const response = await profileAPI.savePhoto(file);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const response = await profileAPI.saveProfile(profile);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getUsersProfile(getState().auth.userId));\r\n  } else {\r\n    dispatch(stopSubmit(\r\n        'edit-profile', {_error: 'response.data.messages[0]'},\r\n    ));\r\n    return Promise.reject();\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/defaultAvatar.b4b85090.png\";"],"sourceRoot":""}