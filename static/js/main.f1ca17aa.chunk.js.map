{"version":3,"sources":["components/common/Preloader/Preloader.module.css","components/common/Input/Input.module.css","components/Main/Profile/User/UserInfo/UserInfo.module.css","components/Footer/Footer.module.css","components/Sidebar/Sidebar.module.css","components/Main/Main.module.css","components/common/Button/Button.module.css","components/Main/Users/UsersList/UsersList.module.css","assets/images/preloader.gif","components/Main/Login/Login.module.css","components/Main/Messages/Interlocutors/Interlocutors.module.css","components/Main/Messages/Interlocutors/InterlocutorsList/InterlocutorsList.module.css","components/Main/Messages/Dialog/Dialog.module.css","components/Main/Messages/Dialog/DialogMessages/DialogMessages.module.css","components/Main/Messages/Dialog/DialogForm/DialogForm.module.css","components/Main/Messages/Messages.module.css","assets/images/defaultAvatar.png","components/Main/Users/UsersList/User/User.module.css","components/Main/Profile/User/UserInfo/ProfileDataForm/ProfileDataForm.module.css","components/Main/Profile/User/Avatar/Avatar.module.css","components/Main/Messages/Interlocutors/InterlocutorsList/InterlocutorsListItem/InterlocutorsListItem.module.css","serviceWorker.ts","components/Footer/Footer.tsx","components/Sidebar/Menu/Menu.tsx","api/api.ts","redux/messages-reducer.ts","hooks/useSetTitle.ts","components/Sidebar/Sidebar.tsx","redux/users-reducer.ts","redux/users-selectors.ts","components/common/Button/Button.tsx","components/Main/Users/Search/Search.tsx","components/Main/Users/Paginator/PaginationItem/PaginationItem.tsx","components/Main/Users/Paginator/Paginator.tsx","components/Main/Users/UsersList/User/User.tsx","components/common/Preloader/Preloader.tsx","components/Main/Users/UsersList/UsersList.tsx","components/Main/Users/Users.tsx","components/Main/News/News.tsx","components/Main/Music/Music.tsx","components/Main/Settings/Settings.tsx","utils/validators.ts","redux/init-reducer.ts","redux/auth-reducer.ts","components/common/Input/Input.tsx","components/Main/Login/Login.tsx","redux/profile-reducer.ts","components/Main/Profile/Posts/Post/Post.tsx","components/common/Textarea/Textarea.tsx","components/Main/Profile/Posts/Posts.tsx","components/Main/Profile/User/Avatar/Avatar.tsx","components/Main/Profile/User/UserInfo/Status/Status.tsx","components/Main/Profile/User/UserInfo/ProfileDataForm/ProfileDataForm.tsx","components/Main/Profile/User/UserInfo/ProfileData/ProfileData.tsx","components/Main/Profile/User/UserInfo/UserInfo.tsx","components/Main/Profile/User/User.tsx","components/Main/Profile/Profile.tsx","components/Main/Messages/Interlocutors/InterlocutorsList/InterlocutorsListItem/InterlocutorsListItem.tsx","components/Main/Messages/Interlocutors/InterlocutorsList/InterlocutorsList.tsx","components/Main/Messages/Interlocutors/Interlocutors.tsx","components/Main/Messages/Dialog/SelectIntercutor/SelectInterlocutor.tsx","components/Main/Messages/Dialog/InterlocutorInfo/InterlocutorInfo.tsx","components/Main/Messages/Dialog/DialogMessages/DialogMessagesItem/DialogMessagesItem.tsx","components/Main/Messages/Dialog/DialogMessages/DialogMessages.tsx","components/Main/Messages/Dialog/DialogForm/DialogForm.tsx","components/Main/Messages/Dialog/Dialog.tsx","components/Main/Messages/Messages.tsx","components/Main/Main.tsx","components/Header/Header.tsx","components/ModalWindow/ModalWindow.tsx","components/App.tsx","redux/store.ts","index.tsx","components/Header/Header.module.css","components/Main/Profile/User/UserInfo/Status/Status.module.css","components/Main/Messages/Dialog/DialogMessages/DialogMessagesItem/DialogMessagesItem.module.css","components/ModalWindow/ModalWindow.module.css","components/Main/Messages/Dialog/InterlocutorInfo/InterlocutorInfo.module.css","components/App.module.css","components/Main/Profile/Posts/Posts.module.css","components/Sidebar/Menu/Menu.module.css","components/Main/Users/Search/Search.module.css","components/Main/Users/Paginator/Paginator.module.css","components/Main/Profile/Posts/Post/Post.module.css","components/common/Textarea/Textarea.module.css","components/Main/Profile/User/UserInfo/ProfileData/ProfileData.module.css","components/Main/Messages/Dialog/SelectIntercutor/SelectInterlocutor.module.css","components/Main/Users/Paginator/PaginationItem/PaginationItem.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","Footer","className","styles","footer","React","memo","newMessagesCount","menu","menuItem","exact","to","menuLink","activeClassName","active","linkIcon","icon","faHome","linkText","faComments","faUsers","faNewspaper","faMusic","faUserCog","server","axios","create","withCredentials","baseURL","headers","usersAPI","count","page","term","get","res","data","userID","post","delete","profileAPI","status","put","photoFile","formData","FormData","append","profile","authAPI","email","password","rememberMe","captcha","securityAPI","messagesAPI","message","body","date","SET_INTERLOCUTORS","SET_NEW_INTERLOCUTOR","SET_CURRENT_DIALOG","SET_MESSAGES_AFTER_DATE","SET_NEW_MESSAGES_COUNT","SET_CURRENT_INTERLOCUTOR","TOGGLE_IS_FETCHING","initialState","interlocutors","newInterlocutor","currentDialog","messagesAfterDate","currentInterlocutor","fetching","sendMessage","toggleIsFetching","property","isFetching","type","getInterlocutors","dispatch","a","async","messages","getDialog","error","items","messagesReducer","state","action","useSetTitle","title","useEffect","document","connect","isAuth","auth","newMessagesCountFetching","getNewMessagesCount","timerID","useRef","current","setInterval","clearInterval","aside","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","SET_TERM","TOGGLE_IS_FOLLOWING_PROGRESS","TOGGLE_IS_FOLLOWING_USER","users","totalUsersCount","currentPage","followingInProgress","isFollowingUser","setUsers","setTotalUsers","totalUsers","setIsFetching","toggleFollowingProgress","userId","toggleFollowedUser","following","follow","resultCode","id","unfollow","usersReducer","map","user","followed","filter","getUsersSelector","createSelector","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","Button","children","onClick","disabled","style","button","Search","setTerm","setCurrentPage","setPortionNumber","useState","inputText","setInputText","searchButtonStyle","cursor","div","placeholder","onChange","event","target","value","input","marginLeft","PaginationItem","number","activeStyle","paginationItemActive","paginationItem","data-number","pageSize","portionSize","getRequestUsers","portionNumber","pageCount","Math","ceil","pages","i","push","portionCount","lastElemPageNumber","leftPortionPageNumber","rightPortionPageNumber","pageNumber","dataset","onPageChanged","paginationItems","num","key","User","followButtonDisabled","handleClick","avatarBox","src","photos","small","defaultAvatar","alt","info","userName","name","userStatus","followButton","followedButton","color","faTimes","faCheck","Preloader","stretch","preloaderStretch","preloaderIMG","preloader","usersOrMessage","length","some","response","totalCount","News","Music","Settings","required","INITIALIZED_SUCCESS","initialized","getMyProfile","getState","setMyProfile","initReducer","SET_USER_DATA","SET_CAPTCHA_URL","SET_MY_PROFILE","SET_MY_PHOTO","login","captchaUrl","myProfile","setAuthUserData","payload","getCaptchaUrlSuccess","setMyPhoto","getAuthUserData","meData","getCaptchaUrl","url","authReducer","Input","meta","isError","touched","checkBoxStyle","width","Object","assign","LoginReduxForm","reduxForm","form","handleSubmit","logTestAccount","onSubmit","htmlFor","Field","component","validate","then","stopSubmit","_error","initialValues","userLogin","ADD_POST","SET_USER_PROFILE","SET_STATUS","SET_PROFILE_PHOTO","SET_AVATAR_FETCHING","posts","text","likes","avatarIsFetching","setUserProfile","setStatus","setAvatarIsFetching","getUsersProfile","profileReducer","newPost","Post","props","avatar","Textarea","rows","cols","onKeyDown","spanStyle","span","textarea","maxLengthValidator","AddNewPostFormRedux","marginTop","addPost","postsElements","reverse","postsList","isOwner","savePhoto","userURL","uploadLabel","followingFetching","avatarWrapper","avatarIMG","large","upload","uploadInput","e","photo","files","textContent","ref","display","alignItems","justifyContent","buttonText","updateStatus","editMode","setEditMode","localStatus","setLocalStatus","statusClass","statusExist","statusNotExist","statusBox","autoFocus","currentTarget","onBlur","onFocus","select","statusInput","statusNotMe","aboutMe","labelWrapper","myContacts","keys","contacts","toUpperCase","slice","buttons","isContactsExists","values","contact","about","lookingForAJob","lookingForAJobDescription","contactsList","entries","rel","href","saveProfile","fullName","getStatus","file","Promise","reject","saveMyProfile","isFollowing","useParams","InterlocutorsListItem","hasNewMessages","lastDialogActivityDate","lastUserActivityDate","isToday","setIsToday","now","Date","tomorrow","setDate","getDate","yesterday","lastMessageDate","getTime","li","infoMessage","role","aria-label","lastMessage","toLocaleTimeString","toLocaleDateString","InterlocutorsList","ul","wrapper","SelectInterlocutor","elem","messagesIMG","interlocutor","online","toLocaleString","DialogMessagesItem","messageID","addedAt","translatedMessage","senderID","senderName","lastSenderID","recipientID","viewed","interlocutorPhoto","myPhoto","myID","firstMessage","isNewSender","senderPhoto","aName","time","dialog","dialogMessagesItem","translatedBody","senderId","recipientId","startChatting","sendMessageFetching","setMessage","height","scrollHeight","maxHeight","resize","minHeight","flexGrow","trim","keyCode","preventDefault","dialogFetching","setUser","getNewInterlocutor","getMessagesAfterDate","extraArgument","resolve","setCurrentInterlocutor","setInterlocutor","find","item","Main","content","path","render","logout","header","container","infoMe","split","ModalWindow","close","overflow","data-close","childrenBox","control","closeButton","size","init","initializeApp","modalWindowIsOpen","setModalWindowIsOpen","modalWindowChildren","modalWindowTitle","main","rootReducer","combineReducers","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.f1ca17aa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderIMG\":\"Preloader_preloaderIMG__BZHNf\",\"preloaderStretch\":\"Preloader_preloaderStretch__3XuiL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__3Rg3-\",\"error\":\"Input_error__36SvP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"UserInfo_info__zWzay\",\"userName\":\"UserInfo_userName__2HoIC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__3hmYT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Sidebar_aside__1e2NK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Main_content__2h5Jj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__OZeNM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"UsersList_users__WQVOf\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.584b607f.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__3z_ct\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Interlocutors_wrapper__2zA-0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"InterlocutorsList_wrapper__15THU\",\"ul\":\"InterlocutorsList_ul__3JB43\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Dialog_wrapper__111U0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DialogMessages_wrapper__2CNKp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DialogForm_wrapper__1YYQn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__sE-hE\"};","module.exports = __webpack_public_path__ + \"static/media/defaultAvatar.b4b85090.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3Qdic\",\"avatarBox\":\"User_avatarBox__dLefj\",\"info\":\"User_info__3dI-o\",\"userName\":\"User_userName__1AQPc\",\"followButton\":\"User_followButton__y-S0x\",\"sendMessage\":\"User_sendMessage__39BmE\",\"userStatus\":\"User_userStatus__1tTcC\",\"followedButton\":\"User_followedButton__20EPy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileDataForm_form__2KiwA\",\"labelWrapper\":\"ProfileDataForm_labelWrapper__1JZeC\",\"buttons\":\"ProfileDataForm_buttons__QBzRg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__212y-\",\"avatarWrapper\":\"Avatar_avatarWrapper__2hCnO\",\"avatarIMG\":\"Avatar_avatarIMG__1-LTa\",\"upload\":\"Avatar_upload__3w34x\",\"uploadInput\":\"Avatar_uploadInput__3u7cW\",\"uploadLabel\":\"Avatar_uploadLabel__2Exb6\",\"sendMessage\":\"Avatar_sendMessage__261Dv\",\"buttonText\":\"Avatar_buttonText__3McX0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"InterlocutorsListItem_wrapper__1IgFZ\",\"userName\":\"InterlocutorsListItem_userName__1P_t4\",\"li\":\"InterlocutorsListItem_li__1DLA-\",\"a\":\"InterlocutorsListItem_a__Eytt8\",\"active\":\"InterlocutorsListItem_active__3BK1D\",\"avatar\":\"InterlocutorsListItem_avatar__3l5eU\",\"info\":\"InterlocutorsListItem_info__2OczL\",\"infoMessage\":\"InterlocutorsListItem_infoMessage__GcUxi\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register (config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    )\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      }\n      else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            }\n            else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Main is cached for offline use.\" message.\n              console.log('Main is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      }\n      else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport styles from './Footer.module.css'\n\nfunction Footer () {\n  return (\n    <footer className={styles.footer}>\n      samurai-network\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport styles from './Menu.module.css'\nimport { faUsers, faHome, faComments, faNewspaper, faMusic, faUserCog } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\ntype PropTypes = {\n  newMessagesCount: number\n}\n\nconst Menu: React.FC<PropTypes> = ({ newMessagesCount }) => {\n  return (\n    <ul className={styles.menu}>\n      <li className={styles.menuItem}>\n        <NavLink\n          exact to='/profile' className={styles.menuLink}\n          activeClassName={styles.active}\n        >\n          <span className={styles.linkIcon}><FontAwesomeIcon icon={faHome}/></span>\n          <span className={styles.linkText}>Моя страница</span>\n        </NavLink>\n      </li>\n      <li className={styles.menuItem}>\n        <NavLink\n          to='/messages' className={styles.menuLink}\n          activeClassName={styles.active}\n        >\n          <span className={styles.linkIcon}><FontAwesomeIcon icon={faComments}/></span>\n          <span className={styles.linkText}>Сообщения {newMessagesCount > 0 && `(${newMessagesCount})`}</span>\n        </NavLink>\n      </li>\n      <li className={styles.menuItem}>\n        <NavLink\n          to='/users' className={styles.menuLink}\n          activeClassName={styles.active}\n        >\n          <span className={styles.linkIcon}><FontAwesomeIcon icon={faUsers}/></span>\n          <span className={styles.linkText}>Пользователи</span>\n        </NavLink>\n      </li>\n      <li className={styles.menuItem}>\n        <NavLink\n          to='/news' className={styles.menuLink}\n          activeClassName={styles.active}\n        >\n          <span className={styles.linkIcon}><FontAwesomeIcon icon={faNewspaper}/></span>\n          <span className={styles.linkText}>Новости</span>\n        </NavLink>\n      </li>\n      <li className={styles.menuItem}>\n        <NavLink\n          to='/music' className={styles.menuLink}\n          activeClassName={styles.active}\n        >\n          <span className={styles.linkIcon}><FontAwesomeIcon icon={faMusic}/></span>\n          <span className={styles.linkText}>Музыка</span>\n        </NavLink>\n      </li>\n      <li className={styles.menuItem}>\n        <NavLink\n          to='/settings' className={styles.menuLink}\n          activeClassName={styles.active}\n        >\n          <span className={styles.linkIcon}><FontAwesomeIcon icon={faUserCog}/></span>\n          <span className={styles.linkText}>Настройки</span>\n        </NavLink>\n      </li>\n    </ul>\n  )\n}\n\nexport default React.memo(Menu)\n","import axios from 'axios'\r\nimport {\r\n  IUsers,\r\n  IOperationData,\r\n  IUpdatePhoto,\r\n  IMe,\r\n  ILogin,\r\n  ICaptcha,\r\n  IInterlocutor,\r\n  IDialogs,\r\n  ISendMessage,\r\n  IMessagesAfterDate,\r\n  IProfile\r\n} from '../types/types'\r\n\r\nconst server = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    // ca3b0eb4-4af6-4803-8caa-f7d26464a12c main\r\n    // a7da6dad-5c4f-417c-a0d9-8d30ee0d96ec secondary\r\n    'API-KEY': 'ca3b0eb4-4af6-4803-8caa-f7d26464a12c',\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  async getUsers (count: number, page: number, term = '') {\r\n    const res = await server.get<IUsers>(`users?count=${count}&page=${page}&term=${term}`)\r\n    return res.data\r\n  },\r\n  async isFollowing (userID: number) {\r\n    const res = await server.get<boolean>(`follow/${userID}`)\r\n    return res.data\r\n  },\r\n  async follow (userID: number) {\r\n    const res = await server.post<IOperationData>(`follow/${userID}`)\r\n    return res.data\r\n  },\r\n  async unfollow (userID: number) {\r\n    const res = await server.delete<IOperationData>(`follow/${userID}`)\r\n    return res.data\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  async getProfile (userID: number) {\r\n    const res = await server.get<IProfile>(`profile/${userID}`)\r\n    return res.data\r\n  },\r\n  async getStatus (userID: number) {\r\n    const res = await server.get<string>(`profile/status/${userID}`)\r\n    return res.data\r\n  },\r\n  async updateStatus (status: string) {\r\n    const res = await server.put<IOperationData>(`profile/status`, { status: status })\r\n    return res.data\r\n  },\r\n  async updatePhoto (photoFile: File) {\r\n    const formData = new FormData()\r\n    formData.append(`image`, photoFile)\r\n\r\n    const res = await server.put<IUpdatePhoto>(`profile/photo`, formData, {\r\n      headers: {\r\n        'Content-Type':\r\n          'multipart/form-data'\r\n      }\r\n    })\r\n\r\n    return res.data\r\n  },\r\n  async updateProfile (profile: IProfile) {\r\n    const res = await server.put<IOperationData>(`profile`, profile)\r\n    return res.data\r\n  },\r\n}\r\n\r\nexport const authAPI = {\r\n  async me () {\r\n    const res = await server.get<IMe>(`auth/me`)\r\n    return res.data\r\n  },\r\n  async login (email: string, password: string, rememberMe = true, captcha: string) {\r\n    const res = await server.post<ILogin>(`auth/login`, { email, password, rememberMe, captcha })\r\n    return res.data\r\n  },\r\n  async logout () {\r\n    const res = await server.post<IOperationData>(`auth/logout`)\r\n    return res.data\r\n  },\r\n}\r\n\r\nexport const securityAPI = {\r\n  async getCaptcha () {\r\n    const res = await server.get<ICaptcha>(`security/get-captcha-url`)\r\n    return res.data\r\n  },\r\n}\r\n\r\nexport const messagesAPI = {\r\n  async startChatting (userID: number) {\r\n    const res = await server.put<IOperationData>(`dialogs/${userID}`)\r\n    return res.data\r\n  },\r\n  async getInterlocutors () {\r\n    const res = await server.get<Array<IInterlocutor>>(`dialogs`)\r\n    return res.data\r\n  },\r\n  async getDialog (userID: number) {\r\n    const res = await server.get<IDialogs>(`dialogs/${userID}/messages`)\r\n    return res.data\r\n  },\r\n  async sendMessage (userID: number, message: string) {\r\n    const res = await server.post<ISendMessage>(`dialogs/${userID}/messages`, { body: message })\r\n    return res.data\r\n  },\r\n  async readMessage (messageID: string) {\r\n    const res = await server.get<boolean>(`dialogs/messages/${messageID}/viewed`)\r\n    return res.data\r\n  },\r\n  async putMessageInSpam (messageID: string) {\r\n    const res = await server.post<IOperationData>(`dialogs/messages/${messageID}/spam`)\r\n    return res.data\r\n  },\r\n  async deleteMessage (messageID: string) {\r\n    const res = await server.delete<IOperationData>(`dialogs/messages/${messageID}`)\r\n    return res.data\r\n  },\r\n  async restoreMessage (messageID: string) {\r\n    const res = await server.put<IOperationData>(`dialogs/messages/${messageID}/restore`)\r\n    return res.data\r\n  },\r\n  async getMessagesAfterDate (userID: number, date: string) {\r\n    const res = await server.get<Array<IMessagesAfterDate>>(\r\n      `dialogs/${userID}/messages/new?newerThen=${date}`\r\n    )\r\n    return res.data\r\n  },\r\n  async getNewMessagesCount () {\r\n    const res = await server.get<number>(`dialogs/messages/new/count`)\r\n    return res.data\r\n  },\r\n}\r\n","import { IInterlocutor, IDialog, IMessagesAfterDate, IProfile } from '../types/types'\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport { RootReducerType } from './store'\r\nimport { messagesAPI, profileAPI } from '../api/api'\r\n\r\n/* Action types */\r\nconst SET_INTERLOCUTORS = 'samurai-network/messages/SET_INTERLOCUTORS'\r\nconst SET_NEW_INTERLOCUTOR = 'samurai-network/messages/SET_NEW_INTERLOCUTOR'\r\nconst SET_CURRENT_DIALOG = 'samurai-network/messages/SET_CURRENT_DIALOG'\r\nconst SET_MESSAGES_AFTER_DATE = 'samurai-network/messages/SET_MESSAGES_AFTER_DATE'\r\nconst SET_NEW_MESSAGES_COUNT = 'samurai-network/messages/SET_NEW_MESSAGES_COUNT'\r\nconst SET_CURRENT_INTERLOCUTOR = 'samurai-network/messages/SET_CURRENT_INTERLOCUTOR'\r\nconst TOGGLE_IS_FETCHING = 'samurai-network/messages/TOGGLE_IS_FETCHING'\r\n\r\nconst initialState = {\r\n  interlocutors: null as Array<IInterlocutor> | null,\r\n  newInterlocutor: null as IProfile | null,\r\n  currentDialog: null as Array<IDialog> | null,\r\n  messagesAfterDate: null as Array<IMessagesAfterDate> | null,\r\n  newMessagesCount: 0,\r\n  currentInterlocutor: null as number | null,\r\n\r\n  fetching: {\r\n    interlocutors: false,\r\n    newInterlocutor: false,\r\n    currentDialog: false,\r\n    messagesAfterDate: false,\r\n    newMessagesCount: false,\r\n    sendMessage: false,\r\n  },\r\n}\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\ntype ActionTypes =\r\n  setInterlocutorsActionType |\r\n  setNewInterlocutorActionType |\r\n  setCurrentDialogActionType |\r\n  setNewMessagesCountActionType |\r\n  setMessagesAfterDateActionType |\r\n  toggleIsFetchingActionType |\r\n  setCurrentInterlocutorActionType\r\n\r\nfunction messagesReducer (state = initialState, action: ActionTypes): InitialStateType {\r\n  switch (action.type) {\r\n    case SET_INTERLOCUTORS:\r\n      return {\r\n        ...state,\r\n        interlocutors: action.messages\r\n      }\r\n\r\n    case SET_NEW_INTERLOCUTOR:\r\n      return {\r\n        ...state,\r\n        newInterlocutor: action.profile\r\n      }\r\n\r\n    case SET_CURRENT_DIALOG:\r\n      return {\r\n        ...state,\r\n        currentDialog: action.currentDialog\r\n      }\r\n\r\n    case SET_MESSAGES_AFTER_DATE:\r\n      return {\r\n        ...state,\r\n        messagesAfterDate: action.messagesAfterDate\r\n      }\r\n\r\n    case SET_NEW_MESSAGES_COUNT:\r\n      return {\r\n        ...state,\r\n        newMessagesCount: action.count\r\n      }\r\n\r\n    case SET_CURRENT_INTERLOCUTOR:\r\n      return {\r\n        ...state,\r\n        currentInterlocutor: action.userID\r\n      }\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        fetching: {\r\n          ...state.fetching,\r\n          [action.property]: action.isFetching\r\n        }\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n/* Action creators */\r\ntype setInterlocutorsActionType = { type: typeof SET_INTERLOCUTORS, messages: Array<IInterlocutor> };\r\nexport const setInterlocutors = (messages: Array<IInterlocutor>): setInterlocutorsActionType => ({\r\n  type: SET_INTERLOCUTORS,\r\n  messages\r\n})\r\n\r\ntype setNewInterlocutorActionType = { type: typeof SET_NEW_INTERLOCUTOR, profile: IProfile };\r\nexport const setNewInterlocutor = (profile: IProfile): setNewInterlocutorActionType => ({\r\n  type: SET_NEW_INTERLOCUTOR,\r\n  profile\r\n})\r\n\r\ntype setCurrentDialogActionType = { type: typeof SET_CURRENT_DIALOG, currentDialog: Array<IDialog> };\r\nexport const setCurrentDialog = (currentDialog: Array<IDialog>): setCurrentDialogActionType => ({\r\n  type: SET_CURRENT_DIALOG,\r\n  currentDialog\r\n})\r\n\r\ntype setMessagesAfterDateActionType = { type: typeof SET_MESSAGES_AFTER_DATE, messagesAfterDate: Array<IMessagesAfterDate> };\r\nexport const setMessagesAfterDate = (messagesAfterDate: Array<IMessagesAfterDate>): setMessagesAfterDateActionType => ({\r\n  type: SET_MESSAGES_AFTER_DATE,\r\n  messagesAfterDate: messagesAfterDate\r\n})\r\n\r\ntype setNewMessagesCountActionType = { type: typeof SET_NEW_MESSAGES_COUNT, count: number };\r\nexport const setNewMessagesCount = (count: number): setNewMessagesCountActionType => ({\r\n  type: SET_NEW_MESSAGES_COUNT,\r\n  count\r\n})\r\n\r\ntype setCurrentInterlocutorActionType = { type: typeof SET_CURRENT_INTERLOCUTOR, userID: number };\r\nexport const setCurrentInterlocutor = (userID: number): setCurrentInterlocutorActionType => ({\r\n  type: SET_CURRENT_INTERLOCUTOR,\r\n  userID\r\n})\r\n\r\ntype toggleIsFetchingPropertyType =\r\n  'interlocutors' |\r\n  'newInterlocutor' |\r\n  'currentDialog' |\r\n  'messagesAfterDate' |\r\n  'newMessagesCount' |\r\n  'sendMessage'\r\ntype toggleIsFetchingActionType = {\r\n  type: typeof TOGGLE_IS_FETCHING,\r\n  property: toggleIsFetchingPropertyType,\r\n  isFetching: boolean\r\n};\r\nexport const toggleIsFetching = (property: toggleIsFetchingPropertyType, isFetching: boolean): toggleIsFetchingActionType => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  property,\r\n  isFetching\r\n})\r\n\r\n/* Thunk creators */\r\ntype ThunkType = ThunkAction<Promise<void>, RootReducerType, unknown, ActionTypes>\r\n\r\nexport const startChatting = (userID: number): ThunkType => {\r\n  return async () => {\r\n    await messagesAPI.startChatting(userID)\r\n  }\r\n}\r\n\r\nexport const getInterlocutors = (): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching('interlocutors', true))\r\n    const res = await messagesAPI.getInterlocutors()\r\n    dispatch(setInterlocutors(res))\r\n    dispatch(toggleIsFetching('interlocutors', false))\r\n  }\r\n}\r\n\r\nexport const getNewInterlocutor = (userID: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching('newInterlocutor', true))\r\n    const res = await profileAPI.getProfile(userID)\r\n    dispatch(setNewInterlocutor(res))\r\n    dispatch(toggleIsFetching('newInterlocutor', false))\r\n  }\r\n}\r\n\r\nexport const getDialog = (userID: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching('currentDialog', true))\r\n    const res = await messagesAPI.getDialog(userID)\r\n    if (!res.error) {\r\n      dispatch(setCurrentDialog(res.items))\r\n      dispatch(toggleIsFetching('currentDialog', false))\r\n    }\r\n  }\r\n}\r\n\r\nexport const sendMessage = (userID: number, message: string): ThunkType => {\r\n  return async (dispatch, getState, extraArgument) => {\r\n    dispatch(toggleIsFetching('sendMessage', true))\r\n    const res = await messagesAPI.sendMessage(userID, message)\r\n    if (res.resultCode === 0) {\r\n      Promise.resolve().then(() => {\r\n        getDialog(userID)(dispatch, getState, extraArgument)\r\n        getInterlocutors()(dispatch, getState, extraArgument)\r\n      })\r\n        .then(() => {\r\n          dispatch(toggleIsFetching('sendMessage', false))\r\n        })\r\n    }\r\n  }\r\n}\r\n\r\nexport const getNewMessagesCount = (): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching('newMessagesCount', true))\r\n    const res = await messagesAPI.getNewMessagesCount()\r\n    dispatch(setNewMessagesCount(res))\r\n    dispatch(toggleIsFetching('newMessagesCount', false))\r\n  }\r\n}\r\n\r\nexport const getMessagesAfterDate = (userID: number, date: string): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching('messagesAfterDate', true))\r\n    const res = await messagesAPI.getMessagesAfterDate(userID, date)\r\n    dispatch(setMessagesAfterDate(res))\r\n    dispatch(toggleIsFetching('messagesAfterDate', false))\r\n  }\r\n}\r\n\r\nexport default messagesReducer\r\n","import { useEffect } from 'react'\r\n\r\nfunction useSetTitle (title: string | null) {\r\n  useEffect(() => {\r\n    if (title) {\r\n      document.title = title\r\n    }\r\n  })\r\n}\r\n\r\nexport default useSetTitle\r\n","import React, { useEffect, useRef } from 'react'\nimport styles from './Sidebar.module.css'\nimport Menu from './Menu/Menu'\nimport { connect } from 'react-redux'\nimport { RootReducerType } from '../../redux/store'\nimport { getNewMessagesCount } from '../../redux/messages-reducer'\nimport useSetTitle from '../../hooks/useSetTitle'\n\ntype MapStatePropTypes = {\n  newMessagesCount: number\n  isAuth: boolean\n  newMessagesCountFetching: boolean\n}\n\ntype MapDispatchPropTypes = {\n  getNewMessagesCount: () => void\n}\n\nconst Sidebar: React.FC<MapStatePropTypes & MapDispatchPropTypes> = ({\n  newMessagesCount, getNewMessagesCount, isAuth, newMessagesCountFetching\n}) => {\n  const timerID = useRef<NodeJS.Timeout>()\n\n  useEffect(() => {\n    if (isAuth) {\n      getNewMessagesCount()\n    }\n  }, [getNewMessagesCount, isAuth])\n\n  useEffect(() => {\n    if (isAuth && !newMessagesCountFetching) {\n      timerID.current = setInterval(() => {\n        if (!newMessagesCountFetching) {\n          getNewMessagesCount()\n        }\n      }, 10000)\n    }\n\n    return () => {\n      if (timerID.current) {\n        clearInterval(timerID.current)\n      }\n    }\n  }, [getNewMessagesCount, isAuth, newMessagesCountFetching])\n\n  useSetTitle(newMessagesCount > 0 ? `Новое сообщение - ${newMessagesCount}` : null)\n\n  return (\n    <aside className={styles.aside}>\n      <Menu newMessagesCount={newMessagesCount}/>\n    </aside>\n  )\n}\n\nfunction mapStateToProps (state: RootReducerType): MapStatePropTypes {\n  return {\n    newMessagesCount: state.messages.newMessagesCount,\n    isAuth: state.auth.isAuth,\n    newMessagesCountFetching: state.messages.fetching.newMessagesCount\n  }\n}\n\nexport default connect<MapStatePropTypes, MapDispatchPropTypes, unknown, RootReducerType>(mapStateToProps, {\n  getNewMessagesCount\n})(Sidebar)\n","import { usersAPI } from '../api/api'\r\nimport { IUser } from '../types/types'\r\nimport { RootReducerType } from './store'\r\nimport { ThunkAction } from 'redux-thunk'\r\n\r\n/* Action types */\r\nconst FOLLOW = 'samurai-network/users/FOLLOW'\r\nconst UNFOLLOW = 'samurai-network/users/UNFOLLOW'\r\nconst SET_USERS = 'samurai-network/users/SET_USERS'\r\nconst SET_CURRENT_PAGE = 'samurai-network/users/SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'samurai-network/users/SET_TOTAL_USERS_COUNT'\r\nconst SET_TERM = 'samurai-network/users/SET_TERM'\r\nconst TOGGLE_IS_FETCHING = 'samurai-network/users/TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'samurai-network/users/TOGGLE_IS_FOLLOWING_PROGRESS'\r\nconst TOGGLE_IS_FOLLOWING_USER = 'samurai-network/users/TOGGLE_IS_FOLLOWING_USER'\r\n\r\nconst initialState = {\r\n  users: [] as Array<IUser>,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [] as Array<number>,\r\n  term: '',\r\n  isFollowingUser: false,\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\ntype ActionTypes =\r\n  AcceptFollowActionType |\r\n  AcceptUnfollowActionType |\r\n  SetUsersActionType |\r\n  SetCurrentPageActionType |\r\n  SetTotalUsersActionType |\r\n  SetIsFetchingActionType |\r\n  ToggleFollowingProgressActionType |\r\n  setTermActionType |\r\n  toggleFollowedUserActionType\r\n\r\nfunction usersReducer (state = initialState, action: ActionTypes): InitialStateType {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.id) {\r\n            return { ...user, followed: true }\r\n          }\r\n          return user\r\n        }),\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.id) {\r\n            return { ...user, followed: false }\r\n          }\r\n          return user\r\n        }),\r\n      }\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      }\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n      }\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalUsersCount,\r\n      }\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching ?\r\n          [...state.followingInProgress, action.userId] :\r\n          state.followingInProgress.filter(id => id !== action.userId),\r\n      }\r\n\r\n    case SET_TERM:\r\n      return {\r\n        ...state,\r\n        term: action.term,\r\n      }\r\n\r\n    case TOGGLE_IS_FOLLOWING_USER:\r\n      return {\r\n        ...state,\r\n        isFollowingUser: action.following\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n/* Action creators */\r\ntype AcceptFollowActionType = { type: typeof FOLLOW, id: number };\r\nexport const acceptFollow = (id: number): AcceptFollowActionType => ({\r\n  type: FOLLOW,\r\n  id\r\n})\r\n\r\ntype AcceptUnfollowActionType = { type: typeof UNFOLLOW, id: number };\r\nexport const acceptUnfollow = (id: number): AcceptUnfollowActionType => ({\r\n  type: UNFOLLOW,\r\n  id\r\n})\r\n\r\ntype SetUsersActionType = { type: typeof SET_USERS, users: Array<IUser> };\r\nexport const setUsers = (users: Array<IUser>): SetUsersActionType => ({\r\n  type: SET_USERS,\r\n  users\r\n})\r\n\r\ntype SetCurrentPageActionType = { type: typeof SET_CURRENT_PAGE, currentPage: number };\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageActionType => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n})\r\n\r\ntype SetTotalUsersActionType = { type: typeof SET_TOTAL_USERS_COUNT, totalUsersCount: number };\r\nexport const setTotalUsers = (totalUsers: number): SetTotalUsersActionType => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  totalUsersCount: totalUsers,\r\n})\r\n\r\ntype SetIsFetchingActionType = { type: typeof TOGGLE_IS_FETCHING, isFetching: boolean };\r\nexport const setIsFetching = (isFetching: boolean): SetIsFetchingActionType => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n})\r\n\r\ntype ToggleFollowingProgressActionType = { type: typeof TOGGLE_IS_FOLLOWING_PROGRESS, isFetching: boolean, userId: number };\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number): ToggleFollowingProgressActionType => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n})\r\n\r\ntype setTermActionType = { type: typeof SET_TERM, term: string }\r\nexport const setTerm = (term: string): setTermActionType => ({\r\n  type: SET_TERM,\r\n  term,\r\n})\r\n\r\ntype toggleFollowedUserActionType = { type: typeof TOGGLE_IS_FOLLOWING_USER, following: boolean }\r\nexport const toggleFollowedUser = (following: boolean): toggleFollowedUserActionType => ({\r\n  type: TOGGLE_IS_FOLLOWING_USER,\r\n  following,\r\n})\r\n\r\n/* Thunk creators */\r\n// type GetStateType = () => AppStateType\r\n// type DispatchType = Dispatch<ActionTypes>\r\ntype ThunkType = ThunkAction<Promise<void>, RootReducerType, unknown, ActionTypes>\r\n\r\nexport const getRequestUsers = (pageSize: number, currentPage: number, term = ''): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(setIsFetching(true))\r\n    const response = await usersAPI.getUsers(pageSize, currentPage, term)\r\n    dispatch(setUsers(response.items))\r\n    dispatch(setTotalUsers(response.totalCount))\r\n    dispatch(setIsFetching(false))\r\n  }\r\n}\r\n\r\nexport const follow = (userID: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userID))\r\n    const response = await usersAPI.follow(userID)\r\n    if (response.resultCode === 0) {\r\n      dispatch(acceptFollow(userID))\r\n      dispatch(toggleFollowedUser(true))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userID))\r\n  }\r\n}\r\n\r\nexport const unfollow = (userID: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userID))\r\n    const response = await usersAPI.unfollow(userID)\r\n    if (response.resultCode === 0) {\r\n      dispatch(acceptUnfollow(userID))\r\n      dispatch(toggleFollowedUser(false))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userID))\r\n  }\r\n}\r\n\r\nexport const isFollowing = (userID: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await usersAPI.isFollowing(userID)\r\n    dispatch(toggleFollowedUser(response))\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n","import { createSelector } from 'reselect'\r\nimport { RootReducerType } from './store'\r\n\r\nexport const getUsers = (state: RootReducerType) => {\r\n  return state.users.users\r\n}\r\n\r\nexport const getUsersSelector = createSelector(getUsers, (users) => {\r\n    return users.filter(() => true)\r\n  }\r\n)\r\n\r\nexport const getTotalUsersCount = (state: RootReducerType) => {\r\n  return state.users.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: RootReducerType) => {\r\n  return state.users.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: RootReducerType) => {\r\n  return state.users.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: RootReducerType) => {\r\n  return state.users.followingInProgress\r\n}\r\n","import React from 'react'\nimport styles from './Button.module.css'\n\ntype PropTypes = {\n  onClick?: (e: React.MouseEvent) => void\n  type?: 'button' | 'submit' | 'reset'\n  disabled?: boolean\n  style?: React.CSSProperties\n}\n\nconst Button: React.FC<PropTypes> = ({ children, onClick, type, disabled, style }) => {\n  return (\n    <button\n      disabled={disabled}\n      type={type}\n      onClick={onClick}\n      style={style}\n      className={styles.button}\n    >\n      {children}\n    </button>\n  )\n}\n\nexport default Button\n","import React, { useState, ChangeEvent } from 'react'\r\nimport styles from './Search.module.css'\r\nimport Button from '../../../common/Button/Button'\r\n\r\ntype PropTypes = {\r\n  setTerm: (term: string) => void\r\n  setCurrentPage: (page: number) => void\r\n  setPortionNumber: (number: number) => void\r\n}\r\n\r\nconst Search = React.memo<PropTypes>(\r\n  ({ setTerm, setCurrentPage, setPortionNumber }) => {\r\n    const [inputText, setInputText] = useState('')\r\n\r\n    const onTextChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n      setInputText(event.target.value)\r\n    }\r\n\r\n    const onButtonClick = () => {\r\n      setCurrentPage(1)\r\n      setTerm(inputText)\r\n      setPortionNumber(1)\r\n    }\r\n\r\n    const onReset = () => {\r\n      setCurrentPage(1)\r\n      setTerm('')\r\n      setInputText('')\r\n      setPortionNumber(1)\r\n    }\r\n\r\n    const searchButtonStyle = {\r\n      cursor: (inputText) ? 'pointer' : 'not-allowed'\r\n    }\r\n\r\n    return (\r\n      <div className={styles.div}>\r\n        <input placeholder=\"Поиск\" type=\"text\" onChange={onTextChange} className={styles.input} value={inputText}/>\r\n        <button\r\n          disabled={!inputText}\r\n          style={searchButtonStyle}\r\n          onClick={onButtonClick}\r\n          className={styles.button}>\r\n          Найти\r\n        </button>\r\n        <Button style={{ marginLeft: '10px' }} onClick={onReset}>Сброс</Button>\r\n      </div>\r\n    )\r\n  }\r\n)\r\n\r\nexport default React.memo(Search)\r\n","import React from 'react'\r\nimport styles from './PaginationItem.module.css'\r\n\r\ntype PropTypes = {\r\n  active: boolean\r\n  number: number\r\n}\r\n\r\nconst PaginationItem: React.FC<PropTypes> = ({ active, number }) => {\r\n  const activeStyle = active ? styles.paginationItemActive : ''\r\n\r\n  return (\r\n    <li className={styles.paginationItem + ' ' + activeStyle} data-number={number}>{number}</li>\r\n  )\r\n}\r\n\r\nexport default PaginationItem\r\n","import React, { useEffect } from 'react'\r\nimport styles from './Paginator.module.css'\r\nimport PaginationItem from './PaginationItem/PaginationItem'\r\n\r\ntype PropTypes = {\r\n  currentPage: number\r\n  totalUsersCount: number\r\n  pageSize: number\r\n  portionSize: number\r\n  getRequestUsers: (pageSize: number, currentPage: number, term: string) => void\r\n  term: string\r\n  setCurrentPage: (page: number) => void\r\n  portionNumber: number\r\n  setPortionNumber: (number: number) => void\r\n}\r\n\r\nconst Paginator: React.FC<PropTypes> = ({\r\n  setCurrentPage, currentPage, totalUsersCount, pageSize, portionSize, getRequestUsers, term, portionNumber, setPortionNumber\r\n}) => {\r\n\r\n  useEffect(() => {\r\n    getRequestUsers(pageSize, currentPage, term)\r\n  }, [getRequestUsers, pageSize, currentPage, term])\r\n\r\n  const onPageChanged = (currentPage: number) => {\r\n    getRequestUsers(pageSize, currentPage, term)\r\n    setCurrentPage(currentPage)\r\n  }\r\n\r\n  const pageCount = Math.ceil(totalUsersCount / pageSize)\r\n  const pages = []\r\n\r\n  for (let i = 1; i < totalUsersCount; i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n  const portionCount = Math.ceil(pageCount / portionSize)\r\n  const lastElemPageNumber = pageCount / portionSize * portionSize\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n  const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n  const changePage = (event: React.MouseEvent<HTMLDivElement>) => {\r\n    const target = event.target as HTMLInputElement\r\n    const pageNumber = target.dataset.number\r\n\r\n    if (pageNumber) {\r\n      onPageChanged(+pageNumber)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div onClick={changePage} className={styles.paginationItems}>\r\n      {\r\n        totalUsersCount > 0 &&\r\n        <button disabled={portionNumber === 1} className={styles.button}\r\n                onClick={() => {setPortionNumber(portionNumber - 1)}}>Влево</button>\r\n      }\r\n      {\r\n        pages.filter(\r\n          (num) => (num >= leftPortionPageNumber && num <= rightPortionPageNumber && num <= lastElemPageNumber))\r\n          .map((num) => (\r\n            <PaginationItem key={num} number={num} active={+currentPage === num}/>\r\n          ))\r\n      }\r\n      {\r\n        totalUsersCount > 0 &&\r\n        <button disabled={portionCount === portionNumber} className={styles.button}\r\n                onClick={() => {setPortionNumber(portionNumber + 1)}}>Вправо</button>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(Paginator)\r\n","import React from 'react'\r\nimport styles from './User.module.css'\r\nimport defaultAvatar from '../../../../../assets/images/defaultAvatar.png'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { IUser } from '../../../../../types/types'\r\nimport { faCheck, faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\ntype PropTypes = {\r\n  user: IUser\r\n  followButtonDisabled: boolean\r\n  unfollow: (id: number) => void\r\n  follow: (id: number) => void\r\n  isAuth: boolean\r\n}\r\n\r\nconst User: React.FC<PropTypes> = ({ user, followButtonDisabled, unfollow, follow, isAuth }) => {\r\n  const handleClick = () => {\r\n    if (isAuth) {\r\n      if (user.followed) {\r\n        unfollow(user.id)\r\n      }\r\n      else {\r\n        follow(user.id)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li className={styles.user}>\r\n      <div className={styles.avatarBox}>\r\n        <NavLink to={`/profile/${user.id}`}>\r\n          <img src={user.photos.small || defaultAvatar} alt='avatar'/>\r\n        </NavLink>\r\n      </div>\r\n\r\n      <div className={styles.info}>\r\n        <NavLink className={styles.userName} to={`/profile/${user.id}`}>{user.name}</NavLink>\r\n        {user.status && <span className={styles.userStatus}>{user.status}</span>}\r\n\r\n        {\r\n          user.followed ? (\r\n            <button\r\n              className={styles.followButton}\r\n              disabled={followButtonDisabled}\r\n              onClick={handleClick}\r\n            >\r\n              <span className={styles.followedButton}>Отписаться</span>\r\n              <FontAwesomeIcon color='#f03a17' icon={faTimes}/>\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className={styles.followButton}\r\n              disabled={followButtonDisabled}\r\n              onClick={handleClick}\r\n            >\r\n              <span className={styles.followedButton}>Подписаться</span>\r\n              <FontAwesomeIcon color='#16c60c' icon={faCheck}/>\r\n            </button>\r\n          )\r\n        }\r\n\r\n        <NavLink to={`/messages/${user.id}`} className={styles.sendMessage}>Написать сообщение</NavLink>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\nimport styles from './Preloader.module.css'\nimport preloader from '../../../assets/images/preloader.gif'\n\ntype PropTypes = {\n  stretch?: boolean\n}\n\nconst Preloader: React.FC<PropTypes> = ({ stretch }) => (\n  <img className={stretch ? styles.preloaderStretch : styles.preloaderIMG} src={preloader} alt='load'/>\n)\n\nexport default Preloader\n","import React from 'react'\r\nimport styles from './UsersList.module.css'\r\nimport User from './User/User'\r\nimport { IUser } from '../../../../types/types'\r\nimport Preloader from '../../../common/Preloader/Preloader'\r\n\r\ntype PropTypes = {\r\n  users: Array<IUser>\r\n  followingInProgress: Array<number>\r\n  follow: (id: number) => void\r\n  unfollow: (id: number) => void\r\n  isFetching: boolean\r\n  isAuth: boolean\r\n}\r\n\r\nconst UsersList: React.FC<PropTypes> = ({ users, followingInProgress, follow, unfollow, isFetching, isAuth }) => {\r\n\r\n  const usersOrMessage = (users.length) ?\r\n    users.map((user) => (\r\n      <User key={user.id}\r\n            user={user}\r\n            followButtonDisabled={followingInProgress.some(id => id === user.id)}\r\n            follow={follow}\r\n            unfollow={unfollow}\r\n            isAuth={isAuth}\r\n      />\r\n    )) : 'Ничего не найдено'\r\n\r\n  return (\r\n    <ul className={styles.users}>\r\n      {isFetching ? <Preloader stretch/> : usersOrMessage}\r\n    </ul>\r\n  )\r\n\r\n}\r\n\r\nexport default React.memo(UsersList)\r\n","import { connect } from 'react-redux'\r\nimport {\r\n  getRequestUsers,\r\n  setCurrentPage,\r\n  setIsFetching,\r\n  follow,\r\n  unfollow,\r\n  setTerm,\r\n} from '../../../redux/users-reducer'\r\nimport React, { useEffect, useState } from 'react'\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getTotalUsersCount,\r\n  getUsersSelector,\r\n} from '../../../redux/users-selectors'\r\nimport { RootReducerType } from '../../../redux/store'\r\nimport { IUser } from '../../../types/types'\r\nimport Search from './Search/Search'\r\nimport Paginator from './Paginator/Paginator'\r\nimport UsersList from './UsersList/UsersList'\r\nimport useSetTitle from '../../../hooks/useSetTitle'\r\n\r\ntype MapStatePropTypes = {\r\n  currentPage: number\r\n  users: Array<IUser>\r\n  totalUsersCount: number\r\n  isFetching: boolean\r\n  followingInProgress: Array<number>\r\n  term: string\r\n  isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropTypes = {\r\n  setCurrentPage: (page: number) => void\r\n  setIsFetching: (isFetching: boolean) => void\r\n  getRequestUsers: (pageSize: number, currentPage: number, term: string) => void\r\n  follow: (id: number) => void\r\n  unfollow: (id: number) => void\r\n  setTerm: (term: string) => void\r\n}\r\n\r\ntype PropTypes = MapStatePropTypes & MapDispatchPropTypes\r\n\r\nconst Users: React.FC<PropTypes> = ({\r\n  currentPage,\r\n  totalUsersCount,\r\n  isFetching,\r\n  users,\r\n  followingInProgress,\r\n  setCurrentPage,\r\n  follow,\r\n  unfollow,\r\n  setTerm,\r\n  getRequestUsers,\r\n  term,\r\n  isAuth,\r\n}) => {\r\n\r\n  useSetTitle('Поиск пользователей')\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setCurrentPage(1)\r\n    }\r\n  }, [setCurrentPage])\r\n\r\n  const [portionNumber, setPortionNumber] = useState(1)\r\n\r\n  return (\r\n    <>\r\n      <h1>Пользователи</h1>\r\n      <Search\r\n        setTerm={setTerm}\r\n        setCurrentPage={setCurrentPage}\r\n        setPortionNumber={setPortionNumber}\r\n      />\r\n      <Paginator\r\n        totalUsersCount={totalUsersCount}\r\n        currentPage={currentPage}\r\n        pageSize={6}\r\n        portionSize={10}\r\n        getRequestUsers={getRequestUsers}\r\n        term={term}\r\n        setCurrentPage={setCurrentPage}\r\n        portionNumber={portionNumber}\r\n        setPortionNumber={setPortionNumber}\r\n      />\r\n      <UsersList\r\n        users={users}\r\n        followingInProgress={followingInProgress}\r\n        follow={follow}\r\n        unfollow={unfollow}\r\n        isFetching={isFetching}\r\n        isAuth={isAuth}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps (state: RootReducerType): MapStatePropTypes {\r\n  return {\r\n    users: getUsersSelector(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n    term: state.users.term,\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n}\r\n\r\nexport default connect<MapStatePropTypes, MapDispatchPropTypes, unknown, RootReducerType>(mapStateToProps, {\r\n  setCurrentPage,\r\n  setIsFetching,\r\n  getRequestUsers,\r\n  follow,\r\n  unfollow,\r\n  setTerm,\r\n})(Users)\r\n","import React from 'react'\nimport styles from './News.module.css'\nimport useSetTitle from '../../../hooks/useSetTitle'\n\nfunction News () {\n  useSetTitle('Новости')\n\n  return (\n    <div className={styles.messages}>\n      Новости\n    </div>\n  )\n}\n\nexport default News\n","import React from 'react'\nimport styles from './Music.module.css'\nimport useSetTitle from '../../../hooks/useSetTitle'\n\nfunction Music () {\n  useSetTitle('Музыка')\n\n  return (\n    <div className={styles.messages}>\n      Музыка\n    </div>\n  )\n}\n\nexport default Music\n","import React from 'react'\nimport styles from './Settings.module.css'\nimport useSetTitle from '../../../hooks/useSetTitle'\n\nfunction Settings () {\n  useSetTitle('Настройки')\n\n  return (\n    <div className={styles.messages}>\n      Настройки\n    </div>\n  )\n}\n\nexport default Settings\n","export const required = (value: string) => {\r\n  if (!value) return 'Поле обязательное'\r\n}\r\n\r\nexport const maxLength = (length: number) => (value: string) => {\r\n  if (value.length > length) return `Максимальная длина - ${length}`\r\n}\r\n","import { getAuthUserData, setMyProfile, SetMyProfileType } from './auth-reducer'\r\nimport { profileAPI } from '../api/api'\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport { RootReducerType } from './store'\r\n\r\n/* Action types */\r\nconst INITIALIZED_SUCCESS = 'samurai-network/app/INITIALIZED_SUCCESS'\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\ntype ActionTypes = InitializedSuccessType | SetMyProfileType\r\n\r\nfunction initReducer (state = initialState, action: ActionTypes): InitialStateType {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n/* Action creators */\r\ntype InitializedSuccessType = { type: typeof INITIALIZED_SUCCESS };\r\nexport const initializedSuccess = (): InitializedSuccessType => ({\r\n  type: INITIALIZED_SUCCESS\r\n})\r\n\r\n/* Thunk creators */\r\ntype ThunkType = ThunkAction<Promise<void>, RootReducerType, unknown, ActionTypes>\r\n\r\nexport const initializeApp = (): ThunkType => {\r\n  return async (dispatch) => {\r\n    dispatch(getAuthUserData())\r\n      .then(() => {\r\n        dispatch(getMyProfile()).then(() => {\r\n          dispatch(initializedSuccess())\r\n        })\r\n      })\r\n  }\r\n}\r\n\r\nexport const getMyProfile = (): ThunkType => {\r\n  return async (dispatch, getState) => {\r\n    const isAuth = getState().auth.isAuth\r\n    const userID = getState().auth.userId\r\n\r\n    if (isAuth && userID) {\r\n      const response = await profileAPI.getProfile(userID)\r\n      dispatch(setMyProfile(response))\r\n    }\r\n  }\r\n}\r\n\r\nexport default initReducer\r\n","import { authAPI, profileAPI, securityAPI } from '../api/api'\r\nimport { stopSubmit, FormAction } from 'redux-form'\r\nimport { IPhotos, IProfile } from '../types/types'\r\nimport { getMyProfile } from './init-reducer'\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport { RootReducerType } from './store'\r\n\r\n/* Action types */\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA'\r\nconst SET_CAPTCHA_URL = 'samurai-network/auth/SET_CAPTCHA_URL'\r\nconst SET_MY_PROFILE = 'samurai-network/auth/SET_MY_PROFILE'\r\nconst SET_MY_PHOTO = 'samurai-network/auth/SET_MY_PHOTO'\r\n\r\nconst initialState = {\r\n  userId: null as number | null,\r\n  email: null as string | null,\r\n  login: null as string | null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n  captchaUrl: null as string | null,\r\n  myProfile: null as IProfile | null,\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\ntype ActionTypes =\r\n  SetAuthUserDataActionType |\r\n  GetCaptchaUrlSuccessType |\r\n  SetMyProfileType |\r\n  SetMyPhotoType\r\n\r\nfunction authReducer (state = initialState, action: ActionTypes): InitialStateType {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n\r\n    case SET_CAPTCHA_URL:\r\n      return {\r\n        ...state,\r\n        captchaUrl: action.captchaUrl,\r\n      }\r\n\r\n    case SET_MY_PROFILE:\r\n      return {\r\n        ...state,\r\n        myProfile: action.profile,\r\n      }\r\n\r\n    case SET_MY_PHOTO:\r\n      return {\r\n        ...state,\r\n        myProfile: {\r\n          ...state.myProfile,\r\n          photos: action.photos\r\n        } as IProfile,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n/* Action creators */\r\ntype SetAuthUserDataActionPayloadType = { userId: number | null, email: string | null, login: string | null, isAuth: boolean };\r\ntype SetAuthUserDataActionType = { type: typeof SET_USER_DATA, payload: SetAuthUserDataActionPayloadType };\r\nexport const setAuthUserData = (\r\n  userId: number | null,\r\n  email: string | null,\r\n  login: string | null,\r\n  isAuth: boolean,\r\n): SetAuthUserDataActionType => (\r\n  { type: SET_USER_DATA, payload: { userId, email, login, isAuth } }\r\n)\r\n\r\ntype GetCaptchaUrlSuccessType = { type: typeof SET_CAPTCHA_URL, captchaUrl: string };\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string): GetCaptchaUrlSuccessType => ({\r\n  type: SET_CAPTCHA_URL,\r\n  captchaUrl: captchaUrl,\r\n})\r\n\r\nexport type SetMyProfileType = { type: typeof SET_MY_PROFILE, profile: IProfile }\r\nexport const setMyProfile = (profile: IProfile): SetMyProfileType => ({\r\n  type: SET_MY_PROFILE,\r\n  profile,\r\n})\r\n\r\nexport type SetMyPhotoType = { type: typeof SET_MY_PHOTO, photos: IPhotos }\r\nexport const setMyPhoto = (photos: IPhotos): SetMyPhotoType => ({\r\n  type: SET_MY_PHOTO,\r\n  photos,\r\n})\r\n\r\n/* Thunk creators */\r\ntype ThunkType = ThunkAction<Promise<void>, RootReducerType, unknown, ActionTypes | FormAction>\r\n\r\nexport const saveMyProfile = (profile: IProfile): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.updateProfile(profile)\r\n    if (response.resultCode === 0) {\r\n      await dispatch(setMyProfile(profile))\r\n    }\r\n    else {\r\n      dispatch(stopSubmit('edit-profile', { _error: response.messages[0] }))\r\n      return Promise.reject()\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport const getAuthUserData = (): ThunkType => {\r\n  return async (dispatch) => {\r\n    const meData = await authAPI.me()\r\n\r\n    if (meData.resultCode === 0) {\r\n      let { id, email, login } = meData.data\r\n      dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n  }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => {\r\n  return async (dispatch) => {\r\n    const data = await authAPI.login(email, password, rememberMe, captcha)\r\n\r\n    if (data.resultCode === 0) {\r\n      dispatch(getAuthUserData()).then(() => {\r\n        dispatch(getMyProfile())\r\n      })\r\n    }\r\n    else {\r\n      // 10 - Captcha is required\r\n      if (data.resultCode === 10) {\r\n        await dispatch(getCaptchaUrl())\r\n      }\r\n\r\n      dispatch(stopSubmit('login', { _error: data.messages[0] }))\r\n    }\r\n  }\r\n}\r\n\r\nexport const logout = (): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await authAPI.logout()\r\n\r\n    if (response.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n  }\r\n}\r\n\r\nexport const getCaptchaUrl = (): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await securityAPI.getCaptcha()\r\n    const captchaUrl = response.url\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n  }\r\n}\r\n\r\nexport default authReducer\r\n","import React from 'react'\nimport styles from './Input.module.css'\nimport { WrappedFieldInputProps, WrappedFieldMetaProps } from 'redux-form'\n\ntype PropTypes = {\n  placeholder?: string\n  type?: string\n  id?: string\n  style?: React.CSSProperties\n  input?: WrappedFieldInputProps\n  meta?: WrappedFieldMetaProps\n}\n\nconst Input: React.FC<PropTypes> = ({ placeholder, meta, input, type, id, style = {} }) => {\n  const isError = meta ? meta.error && meta.touched : false\n  const checkBoxStyle = (type === 'checkbox') ? { width: 'auto' } : {}\n\n  return (\n    <span>\n      <input\n        id={id}\n        type={type}\n        style={Object.assign(style, checkBoxStyle)}\n        className={styles.input}\n        placeholder={placeholder}\n        {...input}\n      />\n      {isError && meta && <span className={styles.error}>{meta.error}</span>}\n    </span>\n  )\n}\n\nexport default Input\n","import React from 'react'\r\nimport { Field, reduxForm, InjectedFormProps } from 'redux-form'\r\nimport { required } from '../../../utils/validators'\r\nimport { connect } from 'react-redux'\r\nimport { login } from '../../../redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport Input from '../../common/Input/Input'\r\nimport styles from './Login.module.css'\r\nimport Button from '../../common/Button/Button'\r\nimport { RootReducerType } from '../../../redux/store'\r\nimport useSetTitle from '../../../hooks/useSetTitle'\r\n\r\ntype MapStatePropTypes = {\r\n  isAuth: boolean\r\n  captchaUrl: string | null\r\n}\r\n\r\ntype MapDispatchPropTypes = {\r\n  login: (email: string, password: string, rememberMe: boolean, captcha: string) => void\r\n}\r\n\r\nconst Login: React.FC<MapStatePropTypes & MapDispatchPropTypes> = ({ login, isAuth, captchaUrl }) => {\r\n  useSetTitle('Авторизация')\r\n\r\n  const onSubmit = (formData: formNames) => {\r\n    const { userLogin, password, rememberMe, captcha } = formData\r\n    login(userLogin, password, rememberMe, captcha)\r\n  }\r\n\r\n  const loginTestAccount = () => {\r\n    login('free@samuraijs.com', 'free', true, '')\r\n  }\r\n\r\n  if (isAuth) {\r\n    return <Redirect to='/profile'/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Авторизация</h1>\r\n      <LoginReduxForm\r\n        initialValues={{ rememberMe: true }}\r\n        logTestAccount={loginTestAccount}\r\n        captchaUrl={captchaUrl}\r\n        onSubmit={onSubmit}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\ntype formProps = {\r\n  captchaUrl: string | null\r\n  logTestAccount: () => void\r\n}\r\n\r\ntype formNames = {\r\n  userLogin: string\r\n  password: string\r\n  rememberMe: boolean\r\n  captcha: string\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<formNames, formProps> & formProps> = ({ handleSubmit, error, captchaUrl, logTestAccount }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles.form}>\r\n      <div>\r\n        <label htmlFor='loginLogin'>Email</label>\r\n        <Field\r\n          type='text'\r\n          placeholder='Email'\r\n          name='userLogin'\r\n          component={Input}\r\n          validate={[required]}\r\n          id='loginLogin'\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label htmlFor='loginPassword'>Пароль</label>\r\n        <Field\r\n          type='password'\r\n          placeholder='Пароль'\r\n          name='password'\r\n          component={Input}\r\n          validate={[required]}\r\n          id='loginPassword'\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <Field type='checkbox' name='rememberMe' id='rememberMe' component={Input}/>\r\n        <label htmlFor='rememberMe'>Запомнить меня</label>\r\n      </div>\r\n\r\n      <div>\r\n        {captchaUrl && <img src={captchaUrl} alt='captcha'/>}\r\n        {\r\n          captchaUrl && (\r\n            <>\r\n              <label htmlFor='loginCaptcha'>Капча</label>\r\n              <Field\r\n                type='text'\r\n                placeholder='Капча'\r\n                name='captcha'\r\n                component={Input}\r\n                validate={[required]}\r\n                id='loginCaptcha'\r\n              />\r\n            </>\r\n          )\r\n        }\r\n      </div>\r\n\r\n      {error ? <div style={{ color: 'red' }}>{error}</div> : null}\r\n      <div>\r\n        <Button type='submit' style={{ width: '100px' }}>Войти</Button>\r\n        <Button type='button' style={{ marginLeft: '10px' }} onClick={logTestAccount}>\r\n          Войти под тестовым аккаунтом\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<formNames, formProps>({ form: 'login' })(LoginForm)\r\n\r\nexport default connect<MapStatePropTypes, MapDispatchPropTypes, unknown, RootReducerType>((state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  captchaUrl: state.auth.captchaUrl\r\n}), { login })(Login)\r\n","import { profileAPI } from '../api/api'\r\nimport { FormAction, stopSubmit } from 'redux-form'\r\nimport { IPhotos, IPost, IProfile } from '../types/types'\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport { RootReducerType } from './store'\r\nimport { setMyPhoto, SetMyPhotoType } from './auth-reducer'\r\n\r\n/* Action types */\r\nconst ADD_POST = 'samurai-network/profile/ADD_POST'\r\nconst SET_USER_PROFILE = 'samurai-network/profile/SET_USER_PROFILE'\r\nconst SET_STATUS = 'samurai-network/profile/SET_STATUS'\r\nconst SET_PROFILE_PHOTO = 'samurai-network/profile/SET_PROFILE_PHOTO'\r\nconst SET_AVATAR_FETCHING = 'samurai-network/profile/SET_AVATAR_FETCHING'\r\n\r\nconst initialState = {\r\n  posts: [\r\n    { id: 1, text: 'Вам нравится React?', likes: 4 },\r\n    { id: 2, text: 'hey', likes: 2 },\r\n  ] as Array<IPost>,\r\n  profile: null as IProfile | null,\r\n  status: '',\r\n  avatarIsFetching: false,\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\ntype ActionTypes =\r\n  AddPostActionType |\r\n  SetUserProfileActionType |\r\n  SetStatusActionType |\r\n  setProfilePhotoActionType |\r\n  setAvatarIsFetchingActionType |\r\n  SetMyPhotoType\r\n\r\nfunction profileReducer (state = initialState, action: ActionTypes): InitialStateType {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      const newPost = {\r\n        id: state.posts[state.posts.length - 1].id + 1,\r\n        text: action.text,\r\n        likes: 0,\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      }\r\n\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      }\r\n\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      }\r\n\r\n    case SET_PROFILE_PHOTO:\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos } as IProfile,\r\n      }\r\n\r\n    case SET_AVATAR_FETCHING:\r\n      return {\r\n        ...state,\r\n        avatarIsFetching: action.isFetching\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n/* Action creators */\r\ntype AddPostActionType = { type: typeof ADD_POST, text: string }\r\nexport const addPost = (formData: { newPost: string }): AddPostActionType => ({\r\n  type: ADD_POST,\r\n  text: formData.newPost\r\n})\r\n\r\ntype SetUserProfileActionType = { type: typeof SET_USER_PROFILE, profile: IProfile | null }\r\nexport const setUserProfile = (profile: IProfile | null): SetUserProfileActionType => ({\r\n  type: SET_USER_PROFILE,\r\n  profile: profile\r\n})\r\n\r\ntype SetStatusActionType = { type: typeof SET_STATUS, status: string }\r\nexport const setStatus = (status: string): SetStatusActionType => ({\r\n  type: SET_STATUS,\r\n  status: status\r\n})\r\n\r\ntype setProfilePhotoActionType = { type: typeof SET_PROFILE_PHOTO, photos: IPhotos }\r\nexport const setProfilePhoto = (photos: IPhotos): setProfilePhotoActionType => ({\r\n  type: SET_PROFILE_PHOTO,\r\n  photos: photos\r\n})\r\n\r\ntype setAvatarIsFetchingActionType = { type: typeof SET_AVATAR_FETCHING, isFetching: boolean }\r\nexport const setAvatarIsFetching = (isFetching: boolean): setAvatarIsFetchingActionType => ({\r\n  type: SET_AVATAR_FETCHING,\r\n  isFetching\r\n})\r\n\r\n/* Thunk creators */\r\ntype ThunkType = ThunkAction<Promise<void>, RootReducerType, unknown, ActionTypes | FormAction>\r\n\r\nexport const getUsersProfile = (userID: number | null): ThunkType => {\r\n  return async (dispatch) => {\r\n    if (userID) {\r\n      dispatch(setUserProfile(null))\r\n      const response = await profileAPI.getProfile(userID)\r\n      dispatch(setUserProfile(response))\r\n    }\r\n  }\r\n}\r\n\r\nexport const getStatus = (userId: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response))\r\n  }\r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n    if (response.resultCode === 0) {\r\n      dispatch(setStatus(status))\r\n    }\r\n  }\r\n}\r\n\r\nexport const savePhoto = (file: File): ThunkType => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.updatePhoto(file)\r\n    if (response.resultCode === 0) {\r\n      dispatch(setProfilePhoto(response.data.photos))\r\n      dispatch(setMyPhoto(response.data.photos))\r\n      dispatch(setAvatarIsFetching(false))\r\n    }\r\n  }\r\n}\r\n\r\nexport const saveProfile = (profile: IProfile): ThunkType => {\r\n  return async (dispatch, getState) => {\r\n    const response = await profileAPI.updateProfile(profile)\r\n    if (response.resultCode === 0) {\r\n      await dispatch(getUsersProfile(getState().auth.userId))\r\n    }\r\n    else {\r\n      dispatch(stopSubmit('edit-profile', { _error: response.messages[0] }))\r\n      return Promise.reject()\r\n    }\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","import React from 'react'\nimport styles from './Post.module.css'\n\ntype PropTypes = {\n  text: string\n  likes: number\n}\n\nconst Post: React.FC<PropTypes> = (props) => {\n  return (\n    <div className={styles.post}>\n      <div>\n        <img className={styles.avatar} src='https://miro.medium.com/max/480/1*5LGjgBL2kWpog3AodB569A.jpeg' alt=''/>\n      </div>\n      <div className={styles.message}>\n        <div>\n          {props.text}\n        </div>\n        <div>\n          {props.likes}♥\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Post\n","import React from 'react'\nimport styles from './Textarea.module.css'\nimport { WrappedFieldInputProps, WrappedFieldMetaProps } from 'redux-form'\n\ntype PropTypes = {\n  placeholder?: string\n  rows?: number\n  cols?: number\n  id?: string\n  style?: React.CSSProperties\n  spanStyle?: React.CSSProperties\n  value?: string\n  onChange?: (e: React.ChangeEvent<HTMLTextAreaElement>) => void\n  onKeyDown?: (e: React.KeyboardEvent<HTMLTextAreaElement>) => void\n  input?: WrappedFieldInputProps\n  meta?: WrappedFieldMetaProps\n}\n\nconst Textarea: React.FC<PropTypes> = ({\n  style, placeholder, rows = 1, cols, meta, input, id, value, onChange, onKeyDown, spanStyle\n}) => {\n  const isError = meta ? meta.error && meta.touched : false\n\n  return (\n    <span style={spanStyle} className={styles.span}>\n      <textarea\n        rows={rows}\n        cols={cols}\n        style={style}\n        className={styles.textarea}\n        placeholder={placeholder}\n        id={id}\n        value={value}\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        {...input}\n      />\n      {isError && meta && <span className={styles.error}>{meta.error}</span>}\n    </span>\n  )\n}\n\nexport default Textarea\n","import React from 'react'\nimport styles from './Posts.module.css'\nimport Post from './Post/Post'\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form'\nimport { required, maxLength } from '../../../../utils/validators'\nimport Button from '../../../common/Button/Button'\nimport Textarea from '../../../common/Textarea/Textarea'\nimport { IPost } from '../../../../types/types'\n\ntype PropTypes = {\n  posts: Array<IPost>\n  addPost: (formData: formNames) => void\n}\n\nconst Posts: React.FC<PropTypes> = ({ posts, addPost }) => {\n  const postsElements = posts.map(\n    post => <Post key={post.id} text={post.text} likes={post.likes}/>\n  ).reverse()\n\n  return (\n    <div className={styles.posts}>\n      <h2 className={styles.title}>Посты</h2>\n      <AddNewPostFormRedux onSubmit={(formData) => { addPost(formData) }}/>\n      <div className={styles.postsList}>\n        {postsElements}\n      </div>\n    </div>\n  )\n}\n\ntype formNames = {\n  newPost: string\n}\n\nconst maxLengthValidator = maxLength(10)\n\nconst AddNewPostForm: React.FC<InjectedFormProps<formNames>> = ({ handleSubmit }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        <Field\n          className={styles.textarea}\n          name='newPost'\n          component={Textarea}\n          placeholder='Что у вас нового?'\n          validate={[required, maxLengthValidator]}\n          rows={2}\n          style={{ marginTop: '10px', width: '100%' }}\n        />\n      </div>\n      <div>\n        <Button style={{ marginTop: '10px' }}>Отправить</Button>\n      </div>\n    </form>\n  )\n}\n\nconst AddNewPostFormRedux = reduxForm<formNames>({ form: 'profileAddNewPost' })(AddNewPostForm)\n\nexport default React.memo(Posts)\n","import React, { useRef, ChangeEvent } from 'react'\nimport styles from './Avatar.module.css'\nimport defaultAvatar from '../../../../../assets/images/defaultAvatar.png'\nimport Preloader from '../../../../common/Preloader/Preloader'\nimport { NavLink } from 'react-router-dom'\nimport Button from '../../../../common/Button/Button'\nimport { IProfile } from '../../../../../types/types'\nimport { faCheck, faTimes } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\ntype PropTypes = {\n  isOwner: boolean\n  profile: IProfile | null\n  avatarIsFetching: boolean\n  isFollowingUser: boolean\n  followingInProgress: Array<number>\n  userURL: number | null\n\n  savePhoto: (photo: File) => void\n  setAvatarIsFetching: (isFetching: boolean) => void\n  follow: (userID: number) => void\n  unfollow: (userID: number) => void\n}\n\nconst Avatar: React.FC<PropTypes> = ({\n  isOwner,\n  savePhoto,\n  profile,\n  setAvatarIsFetching,\n  avatarIsFetching,\n  follow,\n  unfollow,\n  followingInProgress,\n  isFollowingUser,\n  userURL,\n}) => {\n  const uploadLabel = useRef<HTMLLabelElement>(null)\n\n  function onUploadPhoto (e: ChangeEvent<HTMLInputElement>) {\n    const target = e.target as HTMLInputElement\n    const photo: File = (target.files as FileList)[0]\n\n    if (photo.type) {\n      if (photo.type !== 'png' && photo.type !== 'jpg' && photo.type !== 'jpeg') {\n        if (uploadLabel.current) {\n          uploadLabel.current.textContent = 'Не верный тип файла…'\n        }\n      }\n\n      else {\n        if (uploadLabel.current) {\n          uploadLabel.current.textContent = photo.name\n          setAvatarIsFetching(true)\n          savePhoto(photo)\n        }\n      }\n    }\n  }\n\n  const followingFetching = followingInProgress.some((id) => (id === userURL))\n\n  const followUnfollow = () => {\n    if (userURL) {\n      if (isFollowingUser) {\n        unfollow(userURL)\n      }\n      else {\n        follow(userURL)\n      }\n    }\n  }\n\n  return (\n    <div className={styles.avatar}>\n      <div className={styles.avatarWrapper}>\n        {\n          avatarIsFetching || !profile ? <Preloader stretch/> : (\n            <img\n              className={styles.avatarIMG}\n              src={profile.photos.large || defaultAvatar} alt='avatar'\n            />\n          )\n        }\n      </div>\n      {\n        isOwner &&\n        <div className={styles.upload}>\n          <input className={styles.uploadInput} onChange={onUploadPhoto} type='file' id='UserPhotoUpload'/>\n          <label\n            ref={uploadLabel}\n            className={styles.uploadLabel}\n            htmlFor='UserPhotoUpload'\n          >\n            Обновить фотографию\n          </label>\n        </div>\n      }\n      {\n        !isOwner && <NavLink className={styles.sendMessage} to={`/messages/${userURL}`}>\n          <Button style={{ width: '100%' }}>Написать сообщение</Button>\n        </NavLink>\n      }\n\n      {\n        !isOwner &&\n        <Button\n          style={{ width: '100%', marginTop: '10px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n          disabled={followingFetching}\n          onClick={followUnfollow}\n        >\n          {\n            isFollowingUser ? (\n              <span>\n                  <span className={styles.buttonText}>Отписаться</span>\n                  <FontAwesomeIcon color='#f03a17' icon={faTimes}/>\n                </span>\n            ) : (\n              <span>\n                <span className={styles.buttonText}>Подписаться</span>\n                <FontAwesomeIcon color='#16c60c' icon={faCheck}/>\n              </span>\n            )\n          }\n        </Button>\n      }\n    </div>\n  )\n}\n\nexport default React.memo(Avatar)\n","import React, { useEffect, useState } from 'react'\nimport styles from './Status.module.css'\n\ntype PropTypes = {\n  status: string\n  updateStatus: (status: string) => void\n  isOwner: boolean\n}\n\nconst Status: React.FC<PropTypes> = ({ status, updateStatus, isOwner }) => {\n  const [editMode, setEditMode] = useState(false)\n  const [localStatus, setLocalStatus] = useState(status)\n\n  useEffect(() => {\n    setLocalStatus(status)\n  }, [status])\n\n  const activateEditMode = () => {setEditMode(true)}\n  const deactivateEditMode = () => {setEditMode(false)}\n\n  const onUpdateStatus = () => {\n    deactivateEditMode()\n    updateStatus(localStatus)\n  }\n\n  const onStatusChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setLocalStatus(event.currentTarget.value)\n  }\n\n  const selectInputText = (event: React.FocusEvent<HTMLInputElement>) => {\n    event.currentTarget.select()\n  }\n\n  const statusClass = ((status) ? styles.statusExist : styles.statusNotExist) + ' ' + styles.status\n\n  return (\n    <div className={styles.statusBox}>\n      {\n        !editMode ? (\n          (isOwner && <button className={statusClass} onClick={activateEditMode}>{status || 'изменить статус'}</button>)\n          || <div className={styles.statusNotMe}>{status}</div>\n        ) : (\n          <input\n            autoFocus\n            onChange={onStatusChange}\n            onBlur={onUpdateStatus}\n            onFocus={selectInputText}\n            type=\"text\"\n            value={localStatus}\n            className={styles.statusInput}\n          />\n        )\n      }\n    </div>\n  )\n}\n\nexport default React.memo(Status)\n","import React from 'react'\r\nimport { required } from '../../../../../../utils/validators'\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form'\r\nimport Button from '../../../../../common/Button/Button'\r\nimport Input from '../../../../../common/Input/Input'\r\nimport Textarea from '../../../../../common/Textarea/Textarea'\r\nimport styles from './ProfileDataForm.module.css'\r\nimport { IProfile } from '../../../../../../types/types'\r\n\r\ntype PropTypes = {\r\n  profile: IProfile\r\n  setEditMode: (editMode: boolean) => void\r\n}\r\n\r\nconst ProfileDataForm: React.FC<InjectedFormProps<PropTypes> & PropTypes> = ({ handleSubmit, error, profile, setEditMode }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles.form}>\r\n      {error && <div className={styles.error}>{error}</div>}\r\n\r\n      <h3>Основная информация</h3>\r\n\r\n      <div className={styles.aboutMe}>\r\n        <div>\r\n          <div className={styles.labelWrapper}>\r\n            <label htmlFor='dataFormName'>ФИО:</label>\r\n          </div>\r\n          <Field\r\n            type='text'\r\n            placeholder='Имя'\r\n            name='fullName'\r\n            component={Input}\r\n            validate={[required]}\r\n            id='dataFormName'\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <div className={styles.labelWrapper}>\r\n            <label htmlFor='dataFormWork'>Ищите работу:</label>\r\n          </div>\r\n          <Field type='checkbox' name='lookingForAJob' component={Input} id='dataFormWork'/>\r\n        </div>\r\n\r\n        <div>\r\n          <div className={styles.labelWrapper}>\r\n            <label htmlFor='dataFormSkills'>Ваши навыки:</label>\r\n          </div>\r\n          <Field\r\n            rows={2}\r\n            name='lookingForAJobDescription'\r\n            component={Textarea}\r\n            validate={[required]}\r\n            id='dataFormSkills'\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <div className={styles.labelWrapper}>\r\n            <label htmlFor='dataFormAbout'>О Вас:</label>\r\n          </div>\r\n          <Field\r\n            rows={2}\r\n            style={{ width: '280px' }}\r\n            name='aboutMe'\r\n            component={Textarea}\r\n            validate={[required]}\r\n            id='dataFormAbout'\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <hr/>\r\n\r\n      <h3>Ваши контакты</h3>\r\n\r\n      <div className={styles.myContacts}>\r\n        {\r\n          Object.keys(profile.contacts).map(key => (\r\n            <div key={key}>\r\n              <div className={styles.labelWrapper}>\r\n                <label htmlFor={'dataForm' + key}>{key[0].toUpperCase() + key.slice(1)}:</label>\r\n              </div>\r\n              <Field\r\n                type='text'\r\n                name={'contacts.' + key}\r\n                component={Input}\r\n                id={'dataForm' + key}\r\n              />\r\n            </div>\r\n          ))\r\n        }\r\n      </div>\r\n\r\n      <div className={styles.buttons}>\r\n        <Button type='submit'>Сохранить</Button>\r\n        <Button style={{ marginLeft: '10px' }} type='button' onClick={() => {setEditMode(false)}}>Отмена</Button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm<any, PropTypes>({ form: 'edit-profile' })((React.memo(ProfileDataForm)))\r\n","import React from 'react'\nimport styles from './ProfileData.module.css'\nimport { IProfile, IContacts } from '../../../../../../types/types'\n\ntype PropTypes = {\n  profile: IProfile\n}\n\nconst ProfileData: React.FC<PropTypes> = ({ profile }) => {\n  const isContactsExists = Object.values(profile.contacts).some((contact) => (contact !== null))\n\n  return (\n    <dl className={styles.about}>\n      <div>\n        <dt>Ищу работу:</dt>\n        <dd> {profile.lookingForAJob ? 'да' : 'нет'}</dd>\n      </div>\n\n      <div>\n        <dt>Мои навыки:</dt>\n        <dd> {profile.lookingForAJobDescription || 'нету'}</dd>\n      </div>\n\n      <div>\n        <dt>Обо мне:</dt>\n        <dd> {profile.aboutMe || 'не заполнено'}</dd>\n      </div>\n\n      {isContactsExists && <hr/>}\n\n      {\n        isContactsExists && (\n          <div className={styles.contacts}>\n            <dt>Мои контакты:</dt>\n            <dd>\n              <dl className={styles.contactsList}>\n                {\n                  Object.entries(profile.contacts).map((contact) => {\n                    const key = contact[0] as keyof IContacts\n                    const value = contact[1]\n\n                    return (value) ? (\n                      <div key={key}>\n                        <dt>{key}:</dt>\n                        <dd>\n                          <a rel='noopener noreferrer' target='_blank' href={profile.contacts[key]}>\n                            {profile.contacts[key]}\n                          </a>\n                        </dd>\n                      </div>\n                    ) : null\n                  })\n                }\n              </dl>\n            </dd>\n          </div>\n        )\n      }\n    </dl>\n  )\n}\n\nexport default React.memo(ProfileData)\n","import React, { useState } from 'react'\nimport styles from './UserInfo.module.css'\nimport Status from './Status/Status'\nimport ProfileDataForm from './ProfileDataForm/ProfileDataForm'\nimport ProfileData from './ProfileData/ProfileData'\nimport Button from '../../../../common/Button/Button'\nimport { IProfile } from '../../../../../types/types'\n\ntype PropTypes = {\n  profile: IProfile\n  status: string\n  isOwner: boolean\n\n  updateStatus: (newStatus: string) => void\n  saveProfile: (profile: IProfile) => void\n}\n\nconst UserInfo: React.FC<PropTypes> = ({ profile, status, isOwner, saveProfile, updateStatus }) => {\n  const [editMode, setEditMode] = useState(false)\n\n  async function onSubmit (formData: IProfile) {\n    await saveProfile(formData)\n    setEditMode(false)\n  }\n\n  return (\n    <div className={styles.info}>\n      <div>\n        <h1 className={styles.userName}>{profile.fullName}</h1>\n        <Status status={status} updateStatus={updateStatus} isOwner={isOwner}/>\n\n        {(status || isOwner) && <hr/>}\n\n        {\n          editMode ?\n            <ProfileDataForm setEditMode={setEditMode} profile={profile} initialValues={profile} onSubmit={onSubmit}/> :\n            <ProfileData profile={profile}/>\n        }\n      </div>\n\n      {isOwner && !editMode && <div><Button onClick={() => { setEditMode(true) }}>Редактировать</Button></div>}\n    </div>\n  )\n}\n\nexport default React.memo(UserInfo)\n","import React from 'react'\nimport Preloader from '../../../common/Preloader/Preloader'\nimport Avatar from './Avatar/Avatar'\nimport UserInfo from './UserInfo/UserInfo'\nimport { IProfile } from '../../../../types/types'\n\ntype PropTypes = {\n  profile: IProfile | null\n  status: string\n  isOwner: boolean\n  avatarIsFetching: boolean\n  followingInProgress: Array<number>\n  isFollowingUser: boolean\n  userURL: number | null\n\n  follow: (userID: number) => void\n  unfollow: (userID: number) => void\n  setAvatarIsFetching: (isFetching: boolean) => void\n  savePhoto: (photo: File) => void\n  updateStatus: (newStatus: string) => void\n  saveProfile: (profile: IProfile) => void\n}\n\nconst User: React.FC<PropTypes> = ({\n  profile,\n  savePhoto,\n  status,\n  updateStatus,\n  isOwner,\n  saveProfile,\n  avatarIsFetching,\n  setAvatarIsFetching,\n  follow,\n  unfollow,\n  followingInProgress,\n  isFollowingUser,\n  userURL,\n}) => {\n\n  if (!profile) {\n    return <Preloader/>\n  }\n\n  return (\n    <div style={{ display: 'flex' }}>\n      <Avatar\n        savePhoto={savePhoto}\n        profile={profile}\n        isOwner={isOwner}\n        avatarIsFetching={avatarIsFetching}\n        setAvatarIsFetching={setAvatarIsFetching}\n        follow={follow}\n        unfollow={unfollow}\n        followingInProgress={followingInProgress}\n        isFollowingUser={isFollowingUser}\n        userURL={userURL}\n      />\n\n      <UserInfo\n        status={status}\n        updateStatus={updateStatus}\n        saveProfile={saveProfile}\n        profile={profile}\n        isOwner={isOwner}\n      />\n    </div>\n  )\n}\n\nexport default React.memo(User)\n","import React, { useContext, useEffect } from 'react'\r\nimport {\r\n  getStatus,\r\n  getUsersProfile,\r\n  savePhoto,\r\n  saveProfile,\r\n  updateStatus,\r\n  setAvatarIsFetching\r\n} from '../../../redux/profile-reducer'\r\nimport { connect } from 'react-redux'\r\nimport { useParams, Redirect } from 'react-router-dom'\r\nimport { saveMyProfile } from '../../../redux/auth-reducer'\r\nimport { IPost, IProfile } from '../../../types/types'\r\nimport Posts from './Posts/Posts'\r\nimport { RootReducerType } from '../../../redux/store'\r\nimport User from './User/User'\r\nimport { addPost } from '../../../redux/profile-reducer'\r\nimport { follow, isFollowing, unfollow } from '../../../redux/users-reducer'\r\nimport useSetTitle from '../../../hooks/useSetTitle'\r\nimport ModalWindow from '../../ModalWindow/ModalWindow'\r\n\r\ntype MapStatePropTypes = {\r\n  userID: number | null\r\n  profile: IProfile | null\r\n  status: string\r\n  avatarIsFetching: boolean\r\n  myProfile: IProfile | null\r\n  isAuth: boolean\r\n  followingInProgress: Array<number>\r\n  isFollowingUser: boolean\r\n  posts: Array<IPost>\r\n}\r\n\r\ntype MapDispatchPropTypes = {\r\n  getUsersProfile: (userID: number) => void\r\n  getStatus: (userID: number) => void\r\n  savePhoto: (photo: File) => void\r\n  updateStatus: (newStatus: string) => void\r\n  setAvatarIsFetching: (isFetching: boolean) => void\r\n  saveProfile: (profile: IProfile) => void\r\n  saveMyProfile: (profile: IProfile) => void\r\n  follow: (userID: number) => void\r\n  unfollow: (userID: number) => void\r\n  isFollowing: (userID: number) => void\r\n  addPost: (formData: { newPost: string }) => void\r\n}\r\n\r\nconst Profile: React.FC<MapStatePropTypes & MapDispatchPropTypes> = ({\r\n  savePhoto,\r\n  profile,\r\n  status,\r\n  updateStatus,\r\n  saveProfile,\r\n  userID,\r\n  getUsersProfile,\r\n  getStatus,\r\n  avatarIsFetching,\r\n  setAvatarIsFetching,\r\n  myProfile,\r\n  saveMyProfile,\r\n  isAuth,\r\n  follow,\r\n  unfollow,\r\n  followingInProgress,\r\n  isFollowing,\r\n  isFollowingUser,\r\n  posts,\r\n  addPost,\r\n}) => {\r\n\r\n  const { userID: id } = useParams()\r\n\r\n  const userURL = (id) ? +id : userID\r\n  const isOwner = userID === userURL\r\n\r\n  useSetTitle(profile ? profile.fullName : null)\r\n\r\n  useEffect(() => {\r\n    if (userURL && isAuth) {\r\n      isFollowing(+userURL)\r\n    }\r\n  }, [userURL, isFollowing, isAuth])\r\n\r\n  useEffect(() => {\r\n    const updateProfile = () => {\r\n      if (userURL) {\r\n        getUsersProfile(userURL)\r\n        getStatus(userURL)\r\n      }\r\n    }\r\n\r\n    updateProfile()\r\n  }, [userURL, getUsersProfile, getStatus])\r\n\r\n  if (!isAuth) {\r\n    return <Redirect to='/login'/>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <User\r\n        savePhoto={savePhoto}\r\n        profile={isOwner ? myProfile : profile}\r\n        status={status}\r\n        updateStatus={updateStatus}\r\n        isOwner={isOwner}\r\n        saveProfile={isOwner ? saveMyProfile : saveProfile}\r\n        avatarIsFetching={avatarIsFetching}\r\n        setAvatarIsFetching={setAvatarIsFetching}\r\n        follow={follow}\r\n        unfollow={unfollow}\r\n        followingInProgress={followingInProgress}\r\n        isFollowingUser={isFollowingUser}\r\n        userURL={userURL ? +userURL : null}\r\n      />\r\n      <Posts\r\n        posts={posts}\r\n        addPost={addPost}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps (state: RootReducerType): MapStatePropTypes {\r\n  return {\r\n    profile: state.profile.profile,\r\n    status: state.profile.status,\r\n    userID: state.auth.userId,\r\n    avatarIsFetching: state.profile.avatarIsFetching,\r\n    myProfile: state.auth.myProfile,\r\n    isAuth: state.auth.isAuth,\r\n    followingInProgress: state.users.followingInProgress,\r\n    isFollowingUser: state.users.isFollowingUser,\r\n    posts: state.profile.posts,\r\n  }\r\n}\r\n\r\nexport default connect<MapStatePropTypes, MapDispatchPropTypes, unknown, RootReducerType>(mapStateToProps, {\r\n  getUsersProfile,\r\n  getStatus,\r\n  updateStatus,\r\n  savePhoto,\r\n  saveProfile,\r\n  setAvatarIsFetching,\r\n  saveMyProfile,\r\n  follow,\r\n  unfollow,\r\n  isFollowing,\r\n  addPost,\r\n})(Profile)\r\n","import React, { useEffect, useState } from 'react'\nimport styles from './InterlocutorsListItem.module.css'\nimport { IPhotos } from '../../../../../../types/types'\nimport { NavLink } from 'react-router-dom'\nimport defaultAvatar from '../../../../../../assets/images/defaultAvatar.png'\n\ntype PropTypes = {\n  id: number\n  userName: string\n  hasNewMessages: boolean\n  lastDialogActivityDate: string\n  lastUserActivityDate: string\n  newMessagesCount: number\n  photos: IPhotos\n}\n\nconst InterlocutorsListItem: React.FC<PropTypes> = ({\n  id, userName, hasNewMessages, lastDialogActivityDate, lastUserActivityDate, newMessagesCount, photos\n}) => {\n  const [isToday, setIsToday] = useState(false)\n\n  useEffect(() => {\n    const now = new Date()\n    const tomorrow = now.setDate(now.getDate() + 1)\n    const yesterday = now.setDate(now.getDate() - 1)\n    const lastMessageDate = new Date(lastDialogActivityDate).getTime()\n\n    setIsToday(yesterday < lastMessageDate && lastMessageDate < tomorrow)\n  }, [lastDialogActivityDate])\n\n  return (\n    <li className={styles.li}>\n      <NavLink className={styles.a} to={`/messages/${id}`} activeClassName={styles.active}>\n        <img className={styles.avatar} src={photos.small || defaultAvatar} alt=\"avatar\"/>\n        <div className={styles.info}>\n          <div className={styles.infoMessage}>\n            <span className={styles.userName}>{userName}</span>\n            {hasNewMessages && <span>{newMessagesCount}<span role='img' aria-label='сообщение'>💬</span></span>}\n          </div>\n          <div className={styles.lastMessage}>\n            {\n              isToday ? new Date(lastDialogActivityDate).toLocaleTimeString().slice(0, 5) :\n                new Date(lastDialogActivityDate).toLocaleDateString()\n            }\n          </div>\n        </div>\n      </NavLink>\n    </li>\n  )\n}\n\nexport default InterlocutorsListItem\n","import React from 'react'\nimport styles from './InterlocutorsList.module.css'\nimport { IInterlocutor } from '../../../../../types/types'\nimport InterlocutorsListItem from './InterlocutorsListItem/InterlocutorsListItem'\n\ntype PropTypes = {\n  interlocutors: Array<IInterlocutor>\n}\n\nconst InterlocutorsList: React.FC<PropTypes> = ({ interlocutors }) => {\n  return (\n    <ul className={styles.ul}>\n      {\n        interlocutors.map((message) => (\n          <InterlocutorsListItem\n            key={message.id}\n            id={message.id}\n            userName={message.userName}\n            hasNewMessages={message.hasNewMessages}\n            lastDialogActivityDate={message.lastDialogActivityDate}\n            lastUserActivityDate={message.lastUserActivityDate}\n            newMessagesCount={message.newMessagesCount}\n            photos={message.photos}\n          />\n        ))\n      }\n    </ul>\n  )\n}\n\nexport default InterlocutorsList\n","import React from 'react'\nimport styles from './Interlocutors.module.css'\nimport { IInterlocutor } from '../../../../types/types'\nimport InterlocutorsList from './InterlocutorsList/InterlocutorsList'\nimport Preloader from '../../../common/Preloader/Preloader'\n\ntype PropTypes = {\n  interlocutors: Array<IInterlocutor> | null\n}\n\nconst Interlocutors: React.FC<PropTypes> = ({ interlocutors }) => {\n  return (\n    <div className={styles.wrapper}>\n      {\n        interlocutors ? <InterlocutorsList interlocutors={interlocutors}/> : <Preloader stretch/>\n      }\n    </div>\n  )\n}\n\nexport default React.memo(Interlocutors)\n","import React from 'react'\nimport styles from './SelectInterlocutor.module.css'\n\nconst SelectInterlocutor: React.FC = () => {\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.elem}>\n        <div className={styles.messagesIMG}/>\n        <div>Пожалуйста, выберите собеседника</div>\n      </div>\n    </div>\n  )\n}\n\nexport default SelectInterlocutor\n","import React from 'react'\nimport styles from './InterlocutorInfo.module.css'\nimport defaultAvatar from '../../../../../assets/images/defaultAvatar.png'\nimport { NavLink } from 'react-router-dom'\nimport { IPhotos } from '../../../../../types/types'\n\ntype PropTypes = {\n  interlocutor: {\n    id: number | null,\n    userName: string | null,\n    lastUserActivityDate: string | null\n    photos: IPhotos | null\n  }\n}\n\nconst InterlocutorInfo: React.FC<PropTypes> = ({ interlocutor }) => {\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.info}>\n        <NavLink to={`/profile/${interlocutor.id}`} className={styles.userName}>{interlocutor.userName}</NavLink>\n        {\n          interlocutor.lastUserActivityDate && (\n            <div className={styles.online}>\n              Был в сети - {new Date(interlocutor.lastUserActivityDate).toLocaleString()}\n            </div>\n          )\n        }\n      </div>\n      <NavLink to={`/profile/${interlocutor.id}`}>\n        <img className={styles.avatar}\n             src={interlocutor.photos?.small ? interlocutor.photos.small : defaultAvatar || defaultAvatar}\n             alt='avatar'/>\n      </NavLink>\n    </div>\n  )\n}\n\nexport default React.memo(InterlocutorInfo)\n","import React from 'react'\nimport styles from './DialogMessagesItem.module.css'\nimport { NavLink } from 'react-router-dom'\nimport defaultAvatar from '../../../../../../assets/images/defaultAvatar.png'\n\ntype PropTypes = {\n  messageID: string\n  message: string\n  translatedMessage: null\n  addedAt: string\n  senderID: number\n  senderName: string\n  recipientID: number\n  viewed: boolean\n  lastSenderID: number\n  interlocutorPhoto: string | null\n  myPhoto: string | null\n  myID: number | null\n  firstMessage: boolean\n}\n\nconst DialogMessagesItem: React.FC<PropTypes> = ({\n  messageID,\n  message,\n  translatedMessage,\n  addedAt,\n  senderID,\n  senderName,\n  recipientID,\n  viewed,\n  lastSenderID,\n  interlocutorPhoto,\n  myPhoto,\n  myID,\n  firstMessage,\n}) => {\n  const isNewSender = lastSenderID !== senderID\n  const iSender = senderID === myID\n  const senderPhoto = iSender ? myPhoto : interlocutorPhoto\n\n  return (\n    <div className={styles.wrapper} style={{ marginTop: isNewSender ? (firstMessage) ? '0' : '30px' : '15px' }}>\n      {\n        isNewSender && <>\n          <NavLink to={`/profile/${senderID}`}>\n            <img className={styles.avatar} src={senderPhoto || defaultAvatar} alt='avatar'/>\n          </NavLink>\n          <NavLink className={styles.aName} to={`/profile/${senderID}`}>\n            <span className={styles.name}>{senderName}</span>\n          </NavLink>\n          <span className={styles.time}>{new Date(addedAt).toLocaleTimeString().slice(0, 5)}</span>\n        </>\n      }\n\n      <div className={styles.message}>{message}</div>\n    </div>\n  )\n}\n\nexport default DialogMessagesItem\n","import React from 'react'\nimport styles from './DialogMessages.module.css'\nimport { IDialog } from '../../../../../types/types'\nimport DialogMessagesItem from './DialogMessagesItem/DialogMessagesItem'\nimport Preloader from '../../../../common/Preloader/Preloader'\n\ntype PropTypes = {\n  dialog: Array<IDialog> | null\n  interlocutorPhoto: string | null\n  myPhoto: string | null\n  myID: number | null\n  isFetching: boolean\n}\n\nconst DialogMessages: React.FC<PropTypes> = ({ dialog, myPhoto, interlocutorPhoto, myID, isFetching }) => {\n  const dialogMessagesItem = []\n  if (dialog) {\n    let lastSenderID = 0\n    for (let i = 0; i < dialog.length; i++) {\n      dialogMessagesItem.push(\n        <DialogMessagesItem\n          key={dialog[i].id}\n          messageID={dialog[i].id}\n          message={dialog[i].body}\n          translatedMessage={dialog[i].translatedBody}\n          addedAt={dialog[i].addedAt}\n          senderID={dialog[i].senderId}\n          senderName={dialog[i].senderName}\n          recipientID={dialog[i].recipientId}\n          viewed={dialog[i].viewed}\n          lastSenderID={lastSenderID}\n          interlocutorPhoto={interlocutorPhoto}\n          myPhoto={myPhoto}\n          myID={myID}\n          firstMessage={i === 0}\n        />\n      )\n      lastSenderID = dialog[i].senderId\n    }\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      {\n        (isFetching && dialogMessagesItem) ? <Preloader stretch/> : dialogMessagesItem\n      }\n    </div>\n  )\n}\n\nexport default React.memo(DialogMessages)\n","import React, { useState } from 'react'\nimport styles from './DialogForm.module.css'\nimport Textarea from '../../../../common/Textarea/Textarea'\nimport Button from '../../../../common/Button/Button'\n\ntype PropTypes = {\n  sendMessage: (userID: number, message: string) => void\n  startChatting: (userID: number) => void\n  userID: number\n  sendMessageFetching: boolean\n}\n\nconst DialogForm: React.FC<PropTypes> = ({ sendMessage, startChatting, userID, sendMessageFetching }) => {\n  const [message, setMessage] = useState('')\n\n  const onSendMessage = () => {\n    sendMessage(userID, message)\n    setMessage('')\n  }\n\n  const onEnterMessage = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (message.trim() && e.keyCode === 13) {\n      sendMessage(userID, message.trim())\n      setMessage('')\n      e.preventDefault()\n    }\n  }\n\n  const onChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.currentTarget.value)\n    e.currentTarget.style.height = 'auto'\n    e.currentTarget.style.height = e.currentTarget.scrollHeight + 'px'\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      <Textarea\n        onChange={onChange}\n        value={message}\n        style={{ maxHeight: '200px', resize: 'none', minHeight: '40px', width: '100%' }}\n        spanStyle={{ flexGrow: 1 }}\n        placeholder='Напишите сообщение…'\n        onKeyDown={onEnterMessage}\n      />\n      <Button\n        style={{ height: '40px', marginLeft: '20px' }}\n        disabled={sendMessageFetching || !message.trim()}\n        onClick={onSendMessage}\n      >\n        Отправить\n      </Button>\n    </div>\n  )\n}\n\nexport default React.memo(DialogForm)\n","import React, { useEffect, useState } from 'react'\nimport styles from './Dialog.module.css'\nimport { IInterlocutor, IPhotos, IProfile, IDialog } from '../../../../types/types'\nimport SelectInterlocutor from './SelectIntercutor/SelectInterlocutor'\nimport InterlocutorInfo from './InterlocutorInfo/InterlocutorInfo'\nimport DialogMessages from './DialogMessages/DialogMessages'\nimport DialogForm from './DialogForm/DialogForm'\n\ntype PropTypes = {\n  currentDialog: Array<IDialog> | null\n  interlocutor: IInterlocutor | null\n  userID: number | null\n  myPhoto: string | null\n  myID: number | null\n  dialogFetching: boolean\n  newInterlocutor: IProfile | null\n  sendMessage: (userID: number, message: string) => void\n  startChatting: (userID: number) => void\n  sendMessageFetching: boolean\n}\n\nconst Dialog: React.FC<PropTypes> = ({\n  currentDialog,\n  interlocutor,\n  userID,\n  myPhoto,\n  myID,\n  dialogFetching,\n  newInterlocutor,\n  sendMessage,\n  startChatting,\n  sendMessageFetching,\n}) => {\n  const [user, setUser] = useState({\n    id: null as number | null,\n    userName: null as string | null,\n    lastUserActivityDate: null as string | null,\n    photos: null as IPhotos | null\n  })\n\n  useEffect(() => {\n    if (!interlocutor && newInterlocutor) {\n      setUser({\n        id: newInterlocutor.userId,\n        userName: newInterlocutor.fullName,\n        lastUserActivityDate: null,\n        photos: newInterlocutor.photos\n      })\n    }\n    if ((interlocutor && !newInterlocutor) || (interlocutor && newInterlocutor)) {\n      setUser({\n        id: interlocutor.id,\n        userName: interlocutor.userName,\n        lastUserActivityDate: interlocutor.lastUserActivityDate,\n        photos: interlocutor.photos\n      })\n    }\n  }, [interlocutor, newInterlocutor])\n\n  if (!userID) {\n    return <SelectInterlocutor/>\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      <InterlocutorInfo interlocutor={user}/>\n      <DialogMessages\n        myID={myID}\n        dialog={currentDialog}\n        interlocutorPhoto={user.photos ? user.photos.small : null}\n        myPhoto={myPhoto}\n        isFetching={dialogFetching}\n      />\n      <DialogForm\n        sendMessage={sendMessage}\n        startChatting={startChatting}\n        userID={userID}\n        sendMessageFetching={sendMessageFetching}\n      />\n    </div>\n  )\n}\n\nexport default React.memo(Dialog)\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { RootReducerType } from '../../../redux/store'\nimport { IInterlocutor, IDialog, IMessagesAfterDate, IProfile } from '../../../types/types'\nimport {\n  getInterlocutors,\n  getDialog,\n  getMessagesAfterDate,\n  startChatting,\n  sendMessage,\n  getNewInterlocutor,\n  setCurrentInterlocutor\n} from '../../../redux/messages-reducer'\nimport { Redirect, useParams } from 'react-router-dom'\nimport Interlocutors from './Interlocutors/Interlocutors'\nimport Dialog from './Dialog/Dialog'\nimport styles from './Messages.module.css'\nimport useSetTitle from '../../../hooks/useSetTitle'\n\ntype MapStatePropTypes = {\n  interlocutors: Array<IInterlocutor> | null\n  newInterlocutor: IProfile | null\n  currentDialog: Array<IDialog> | null\n  messagesAfterDate: Array<IMessagesAfterDate> | null\n  currentInterlocutor: number | null\n\n  fetching: {\n    interlocutors: boolean\n    newInterlocutor: boolean\n    currentDialog: boolean\n    messagesAfterDate: boolean\n    sendMessage: boolean\n  }\n\n  isAuth: boolean\n  myProfile: IProfile | null\n}\n\ntype MapDispatchPropTypes = {\n  startChatting: (userID: number) => void\n  getInterlocutors: () => void\n  getNewInterlocutor: (userID: number) => void\n  getDialog: (userID: number) => void\n  sendMessage: (userID: number, message: string) => void\n  getMessagesAfterDate: (userID: number, date: string) => void\n  setCurrentInterlocutor: (userID: number) => void\n}\n\nconst Messages: React.FC<MapStatePropTypes & MapDispatchPropTypes> = ({\n  interlocutors,\n  newInterlocutor,\n  getNewInterlocutor,\n  currentDialog,\n  messagesAfterDate,\n  fetching,\n  startChatting,\n  getInterlocutors,\n  getDialog,\n  sendMessage,\n  getMessagesAfterDate,\n  isAuth,\n  myProfile,\n  currentInterlocutor,\n  setCurrentInterlocutor,\n}) => {\n  const { userID } = useParams()\n  const [interlocutor, setInterlocutor] = useState<IInterlocutor | null>(null)\n\n  useSetTitle('Сообщения')\n\n  useEffect(() => {\n    if (userID && +userID !== currentInterlocutor) {\n      setCurrentInterlocutor(+userID)\n    }\n  }, [currentInterlocutor, setCurrentInterlocutor, userID])\n\n  useEffect(() => {\n    if (isAuth) {\n      getInterlocutors()\n    }\n  }, [getInterlocutors, isAuth])\n\n  useEffect(() => {\n    if (userID) {\n      getNewInterlocutor(+userID)\n    }\n  }, [getNewInterlocutor, userID])\n\n  useEffect(() => {\n    if (userID && isAuth) {\n      getDialog(+userID)\n    }\n  }, [getDialog, isAuth, userID])\n\n  useEffect(() => {\n    if (userID && interlocutors) {\n      setInterlocutor(interlocutors.find((item) => item.id === +userID) || null)\n    }\n  }, [userID, interlocutors])\n\n  if (!isAuth) {\n    return <Redirect to='/login'/>\n  }\n\n  if (!userID && currentInterlocutor) {\n    return <Redirect to={`/messages/${currentInterlocutor}`}/>\n  }\n\n  return (\n    <div className={styles.messages}>\n      <Interlocutors interlocutors={interlocutors}/>\n      <Dialog\n        userID={userID ? +userID : null}\n        interlocutor={interlocutor}\n        currentDialog={currentDialog}\n        myPhoto={myProfile ? myProfile.photos.small : null}\n        myID={myProfile ? myProfile.userId : null}\n        dialogFetching={fetching.currentDialog}\n        newInterlocutor={newInterlocutor}\n        sendMessage={sendMessage}\n        startChatting={startChatting}\n        sendMessageFetching={fetching.sendMessage}\n      />\n    </div>\n  )\n}\n\nfunction mapStateToProps (state: RootReducerType): MapStatePropTypes {\n  return {\n    interlocutors: state.messages.interlocutors,\n    newInterlocutor: state.messages.newInterlocutor,\n    currentDialog: state.messages.currentDialog,\n    messagesAfterDate: state.messages.messagesAfterDate,\n    fetching: state.messages.fetching,\n    isAuth: state.auth.isAuth,\n    myProfile: state.auth.myProfile,\n    currentInterlocutor: state.messages.currentInterlocutor,\n  }\n}\n\nexport default connect<MapStatePropTypes, MapDispatchPropTypes, unknown, RootReducerType>(mapStateToProps, {\n  startChatting,\n  getInterlocutors,\n  getNewInterlocutor,\n  getDialog,\n  getMessagesAfterDate,\n  sendMessage,\n  setCurrentInterlocutor,\n})(Messages)\n","import React from 'react'\r\nimport { Redirect, Route, Switch } from 'react-router-dom'\r\nimport styles from './Main.module.css'\r\nimport Users from './Users/Users'\r\nimport News from './News/News'\r\nimport Music from './Music/Music'\r\nimport Settings from './Settings/Settings'\r\nimport Login from './Login/Login'\r\nimport Profile from './Profile/Profile'\r\nimport Messages from './Messages/Messages'\r\n\r\nfunction Main () {\r\n  return (\r\n    <div className={styles.content}>\r\n      <Switch>\r\n        <Route exact path='/' render={() => <Redirect to='/profile'/>}/>\r\n        <Route path='/profile/:userID?' render={() => <Profile/>}/>\r\n        <Route path='/messages/:userID?' render={() => <Messages/>}/>\r\n        <Route path='/users' render={() => <Users/>}/>\r\n        <Route path='/news' component={News}/>\r\n        <Route path='/music' component={Music}/>\r\n        <Route path='/settings' component={Settings}/>\r\n        <Route path='/login' render={() => <Login/>}/>\r\n        <Route path='*' render={() => '404'}/>\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React from 'react'\nimport { logout } from '../../redux/auth-reducer'\nimport { connect } from 'react-redux'\nimport { RootReducerType } from '../../redux/store'\nimport styles from './Header.module.css'\nimport Button from '../common/Button/Button'\nimport { NavLink } from 'react-router-dom'\nimport { IProfile } from '../../types/types'\n\ntype MapStatePropTypes = {\n  isAuth: boolean\n  myProfile: IProfile | null\n}\n\ntype MapDispatchPropTypes = {\n  logout: () => void\n}\n\nconst Header: React.FC<MapStatePropTypes & MapDispatchPropTypes> = ({ isAuth, logout, myProfile }) => {\n  return (\n    <header className={styles.header}>\n      <div className={styles.container}>\n        <div className={styles.title}>Samurai Network</div>\n        {\n          isAuth && myProfile && myProfile.photos.small ? (\n              <div className={styles.infoMe}>\n                <NavLink to='/profile' className={styles.userName}>\n                  <span>\n                    {myProfile.fullName.split(' ')[0]}\n                  </span>\n                </NavLink>\n                <NavLink to='/profile' className={styles.avatar}>\n                  <img src={myProfile.photos.small} alt='avatar'/>\n                </NavLink>\n                <Button onClick={logout}>Выйти</Button>\n              </div>\n            )\n            : (\n              <NavLink to='/login' className={styles.login}>\n                <Button>Авторизоваться</Button>\n              </NavLink>\n            )\n        }\n      </div>\n    </header>\n  )\n}\n\nconst mapStateToProps = (state: RootReducerType): MapStatePropTypes => ({\n  isAuth: state.auth.isAuth,\n  myProfile: state.auth.myProfile\n})\n\nexport default connect<MapStatePropTypes, MapDispatchPropTypes, Object, RootReducerType>(mapStateToProps, {\n  logout,\n})(Header)\n","import React, { useEffect } from 'react'\nimport styles from './ModalWindow.module.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\n\ntype PropTypes = {\n  close: () => void\n  title: string\n}\n\nconst ModalWindow: React.FC<PropTypes> = ({ children, close, title }) => {\n  useEffect(() => {\n    document.body.style.overflow = 'hidden'\n\n    return () => {\n      document.body.style.overflow = 'auto'\n    }\n  })\n\n  const focusClose = (e: React.MouseEvent) => {\n    const target = e.target as HTMLElement\n    if (target.dataset.close) {\n      close()\n    }\n  }\n\n  return (\n    <div onClick={focusClose} className={styles.wrapper} data-close={true}>\n      <div className={styles.childrenBox}>\n        <div className={styles.control}>\n          <span className={styles.title}>{title}</span>\n          <button autoFocus onClick={close} className={styles.closeButton}>\n            <FontAwesomeIcon icon={faTimes} size='3x' color='#141414'/>\n          </button>\n        </div>\n        <div className={styles.children}>\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ModalWindow\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './App.module.css'\nimport Footer from './Footer/Footer'\nimport Sidebar from './Sidebar/Sidebar'\nimport Main from './Main/Main'\nimport Header from './Header/Header'\nimport { initializeApp } from '../redux/init-reducer'\nimport { RootReducerType } from '../redux/store'\nimport { HashRouter } from 'react-router-dom'\nimport Preloader from './common/Preloader/Preloader'\nimport ModalWindow from './ModalWindow/ModalWindow'\n\ntype MapStatePropTypes = {\n  initialized: boolean\n}\n\ntype MapDispatchPropTypes = {\n  initializeApp: () => void\n}\n\nconst App: React.FC<MapStatePropTypes & MapDispatchPropTypes> = ({ initializeApp, initialized }) => {\n  useEffect(() => {\n    initializeApp()\n  }, [initializeApp])\n\n  const [modalWindowIsOpen, setModalWindowIsOpen] = useState(false)\n  const [modalWindowChildren, setModalWindowChildren] = useState<React.ReactNode>(null)\n  const [modalWindowTitle, setModalWindowTitle] = useState('')\n\n  if (!initialized) {\n    return (\n      <div className={styles.page}>\n        <Preloader stretch/>\n      </div>\n    )\n  }\n\n  return (\n    <HashRouter>\n      <div className={styles.page}>\n        <Header/>\n        <div className={styles.wrapper}>\n          <main className={styles.main}>\n            <Sidebar/>\n            <Main/>\n          </main>\n        </div>\n        <Footer/>\n\n        {\n          modalWindowIsOpen ? <ModalWindow title={modalWindowTitle} close={() => {setModalWindowIsOpen(false)}}>\n            {modalWindowChildren}\n          </ModalWindow> : null\n        }\n      </div>\n    </HashRouter>\n  )\n}\n\nfunction mapStateToProps (state: RootReducerType): MapStatePropTypes {\n  return {\n    initialized: state.init.initialized\n  }\n}\n\nexport default connect<MapStatePropTypes, MapDispatchPropTypes, unknown, RootReducerType>(\n  mapStateToProps, { initializeApp }\n)(App)\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux'\r\nimport profileReducer from './profile-reducer'\r\nimport messagesReducer from './messages-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport initReducer from './init-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nconst rootReducer = combineReducers({\r\n  profile: profileReducer,\r\n  messages: messagesReducer,\r\n  users: usersReducer,\r\n  auth: authReducer,\r\n  init: initReducer,\r\n  form: formReducer,\r\n})\r\n\r\nexport type RootReducerType = ReturnType<typeof rootReducer>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nexport default store\r\n","import * as serviceWorker from './serviceWorker'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\nimport store from './redux/store'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2CR8J\",\"container\":\"Header_container__HDvgl\",\"userName\":\"Header_userName__3dpGW\",\"avatar\":\"Header_avatar__34Ghc\",\"infoMe\":\"Header_infoMe__UMQTd\",\"title\":\"Header_title__1NDT_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusBox\":\"Status_statusBox__3qS3R\",\"status\":\"Status_status__1ZDrO\",\"statusNotExist\":\"Status_statusNotExist__2Ayt_\",\"statusExist\":\"Status_statusExist__2EA9K\",\"statusInput\":\"Status_statusInput__2o4UG\",\"statusNotMe\":\"Status_statusNotMe__22woT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DialogMessagesItem_wrapper__D7RSz\",\"avatar\":\"DialogMessagesItem_avatar__kICSw\",\"name\":\"DialogMessagesItem_name__5Xel9\",\"time\":\"DialogMessagesItem_time__1OJ-S\",\"aName\":\"DialogMessagesItem_aName__q09QC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ModalWindow_wrapper__1q2TF\",\"childrenBox\":\"ModalWindow_childrenBox__1GCYg\",\"control\":\"ModalWindow_control__3EN38\",\"closeButton\":\"ModalWindow_closeButton__bdh7z\",\"children\":\"ModalWindow_children__11hkC\",\"title\":\"ModalWindow_title__wXpEM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"InterlocutorInfo_wrapper__1YcGt\",\"info\":\"InterlocutorInfo_info__11Ihl\",\"avatar\":\"InterlocutorInfo_avatar__1YtOI\",\"userName\":\"InterlocutorInfo_userName__2BFJg\",\"online\":\"InterlocutorInfo_online__2G9Er\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"App_page__4Klr-\",\"wrapper\":\"App_wrapper__Jca9l\",\"main\":\"App_main__1nCkj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"Posts_posts__epRJ6\",\"title\":\"Posts_title__3oTfI\",\"textarea\":\"Posts_textarea__1CXXA\",\"postsList\":\"Posts_postsList__3exEI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__27qdF\",\"menuItem\":\"Menu_menuItem__Q_Lyt\",\"menuLink\":\"Menu_menuLink__EHAtu\",\"active\":\"Menu_active__2D1vX\",\"linkText\":\"Menu_linkText__36TKD\",\"linkIcon\":\"Menu_linkIcon__18TNY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Search_div__2HjV8\",\"input\":\"Search_input__1SF7g\",\"button\":\"Search_button__tmFR-\",\"reset\":\"Search_reset__2G7ng\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationItems\":\"Paginator_paginationItems__2iECZ\",\"button\":\"Paginator_button__1_Jp0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__lASZN\",\"avatar\":\"Post_avatar__3eC36\",\"message\":\"Post_message__3tS2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"Textarea_textarea__32chH\",\"error\":\"Textarea_error__1Ernb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactsList\":\"ProfileData_contactsList__ZEb2E\",\"about\":\"ProfileData_about__2NVys\",\"contacts\":\"ProfileData_contacts__KLq0S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SelectInterlocutor_wrapper__1dg4h\",\"elem\":\"SelectInterlocutor_elem__QCwpf\",\"messagesIMG\":\"SelectInterlocutor_messagesIMG__eC6TV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationItem\":\"PaginationItem_paginationItem__1EdWb\",\"paginationItemActive\":\"PaginationItem_paginationItemActive__1EfE6\"};"],"sourceRoot":""}