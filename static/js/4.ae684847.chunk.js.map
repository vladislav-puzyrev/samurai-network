{"version":3,"sources":["components/Content/Messages/Messages.module.css","components/Content/Messages/Dialog/Dialog.module.css","components/Content/Messages/Message/Message.module.css","components/Content/Messages/Dialog/Dialog.jsx","components/Content/Messages/Message/Message.jsx","components/Content/Messages/Messages.jsx","hoc/withAuthRedirect.js","components/Content/Messages/MessagesContainer.jsx"],"names":["module","exports","Dialog","props","className","styles","dialog","to","String","id","name","Message","chatItem","profile","avatar","src","alt","message","maxLength","maxLengthCreator","Textarea","createField","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","validate","required","component","Messages","dialogsElements","state","dialogs","map","key","username","messagesElements","messages","output","chat","formData","buttonOnClick","mapStateToPropsForRedirect","isAuth","auth","compose","connect","messagesPage","dispatch","sendMessageActionCreator","Component","RedirectComponent","this","React"],"mappings":"6GACAA,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,yBAAyB,QAAU,0BAA0B,KAAO,yB,oBCArID,EAAOC,QAAU,CAAC,OAAS,yB,oBCA3BD,EAAOC,QAAU,CAAC,SAAW,0BAA0B,QAAU,yBAAyB,OAAS,0B,iHCWpFC,MARf,SAAgBC,GACd,OACI,wBAAIC,UAAWC,IAAOC,QACpB,kBAAC,IAAD,CAASC,GAAE,oBAAeC,OAAOL,EAAMM,MAAQN,EAAMO,Q,kBCY9CC,MAhBf,SAAiBR,GACf,OACI,wBAAIC,UAAWC,IAAOO,UACpB,yBAAKR,UAAWC,IAAOQ,SACrB,yBAAKT,UAAWC,IAAOS,OAClBC,IAAI,gEACJC,IAAI,WACT,6BAAMb,EAAMO,OAEd,6BACGP,EAAMc,W,kCCLXC,EAAYC,YAAiB,IAC7BC,EAAWC,YAAY,YA0C7B,IAAMC,EAAsBC,YAAU,CAACC,KAAM,cAAjBD,EAd5B,SAAwBpB,GACtB,OACI,0BAAMsB,SAAUtB,EAAMuB,cACpB,6BACE,kBAACC,EAAA,EAAD,CAAOjB,KAAK,UAAUkB,SAAU,CAACC,IAAUX,GACpCY,UAAWV,KAEpB,6BACE,+FAQKW,EA1Cf,SAAkB5B,GAChB,IAAM6B,EAAkB7B,EAAM8B,MAAMC,QAAQC,KACxC,SAAA7B,GAAM,OAAI,kBAAC,EAAD,CAAQ8B,IAAK9B,EAAOG,GAAIA,GAAIH,EAAOG,GAAIC,KAAMJ,EAAO+B,cAG5DC,EAAmBnC,EAAM8B,MAAMM,SAASJ,KAC1C,SAAAlB,GAAO,OAAI,kBAAC,EAAD,CAASmB,IAAKnB,EAAQR,GAAIC,KAAMO,EAAQoB,SAC/BpB,QAASA,EAAQA,aAGzC,OACI,yBAAKb,UAAWC,IAAOkC,UACrB,yBAAKnC,UAAWC,IAAOmC,QACrB,wBAAIpC,UAAWC,IAAO6B,SACnBF,GAEH,wBAAI5B,UAAWC,IAAOoC,MACnBH,IAGL,kBAAChB,EAAD,CACIG,SAAU,SAACiB,GAAcvC,EAAMwC,cAAcD,Q,wDC5BzD,SAASE,EAA2BX,GAClC,MAAO,CACLY,OAAQZ,EAAMa,KAAKD,Q,WCmBRE,sBACXC,aApBJ,SAAyBf,GACvB,MAAO,CACLA,MAAOA,EAAMgB,iBAIjB,SAA4BC,GAC1B,MAAO,CACLP,cADK,SACSD,GACZQ,EAASC,YAAyBT,UDLjC,SAA0BU,GAAY,IACrCC,EADoC,iLAGtC,OAAKC,KAAKnD,MAAM0C,OACT,kBAACO,EAAcE,KAAKnD,OADI,kBAAC,IAAD,CAAUI,GAAG,eAHN,GACVgD,IAAMH,WAOtC,OAAOJ,YAAQJ,EAARI,CAAoCK,KCO9BN,CAGbhB","file":"static/js/4.ae684847.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__2WosV\",\"output\":\"Messages_output__248O2\",\"dialogs\":\"Messages_dialogs__3vxNW\",\"chat\":\"Messages_chat__1jnvH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__1TBUV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatItem\":\"Message_chatItem__1uDfr\",\"profile\":\"Message_profile__2ZXh3\",\"avatar\":\"Message_avatar__1ezTO\"};","import React from 'react';\nimport styles from './Dialog.module.css';\nimport {NavLink} from 'react-router-dom';\n\nfunction Dialog(props) {\n  return (\n      <li className={styles.dialog}>\n        <NavLink to={`/messages/${String(props.id)}`}>{props.name}</NavLink>\n      </li>\n  );\n}\n\nexport default Dialog;","import React from 'react';\nimport styles from './Message.module.css';\n\nfunction Message(props) {\n  return (\n      <li className={styles.chatItem}>\n        <div className={styles.profile}>\n          <img className={styles.avatar}\n               src=\"https://miro.medium.com/max/480/1*5LGjgBL2kWpog3AodB569A.jpeg\"\n               alt=\"avatar\"/>\n          <div>{props.name}</div>\n        </div>\n        <div>\n          {props.message}\n        </div>\n      </li>\n  );\n}\n\nexport default Message;","import React from 'react';\nimport styles from './Messages.module.css';\nimport Dialog from './Dialog/Dialog';\nimport Message from './Message/Message';\nimport {Field, reduxForm} from 'redux-form';\nimport {createField} from '../../common/FormsControls/createField';\nimport {maxLengthCreator, required} from '../../../utils/validators/validators';\n\nconst maxLength = maxLengthCreator(10);\nconst Textarea = createField('textarea');\n\nfunction Messages(props) {\n  const dialogsElements = props.state.dialogs.map(\n      dialog => <Dialog key={dialog.id} id={dialog.id} name={dialog.username}/>,\n  );\n\n  const messagesElements = props.state.messages.map(\n      message => <Message key={message.id} name={message.username}\n                          message={message.message}/>,\n  );\n\n  return (\n      <div className={styles.messages}>\n        <div className={styles.output}>\n          <ul className={styles.dialogs}>\n            {dialogsElements}\n          </ul>\n          <ul className={styles.chat}>\n            {messagesElements}\n          </ul>\n        </div>\n        <AddMessageFormRedux\n            onSubmit={(formData) => {props.buttonOnClick(formData);}}/>\n      </div>\n  );\n}\n\nfunction AddMessageForm(props) {\n  return (\n      <form onSubmit={props.handleSubmit}>\n        <div>\n          <Field name='message' validate={[required, maxLength]}\n                 component={Textarea}/>\n        </div>\n        <div>\n          <button>Отправить</button>\n        </div>\n      </form>\n  );\n}\n\nconst AddMessageFormRedux = reduxForm({form: 'addMessage'})(AddMessageForm);\n\nexport default Messages;","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nfunction mapStateToPropsForRedirect(state) {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n}\r\n\r\nexport function withAuthRedirect(Component) {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to='/login'/>;\r\n      return <Component {...this.props}/>;\r\n    }\r\n  }\r\n\r\n  return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}","import {sendMessageActionCreator} from '../../../redux/messages-reducer';\nimport Messages from './Messages';\nimport {connect} from 'react-redux';\nimport {withAuthRedirect} from '../../../hoc/withAuthRedirect';\nimport {compose} from 'redux';\n\nfunction mapStateToProps(state) {\n  return {\n    state: state.messagesPage,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    buttonOnClick(formData) {\n      dispatch(sendMessageActionCreator(formData));\n    },\n  };\n}\n\n/*\nlet AuthRedirectComponent = withAuthRedirect(Messages);\nconst MessagesContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\nexport default MessagesContainer;*/\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthRedirect,\n)(Messages);"],"sourceRoot":""}