{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","components/Main/Messages/Messages.module.css","components/Main/Messages/Dialog/Dialog.module.css","components/Main/Messages/Message/Message.module.css","components/Main/Messages/Dialog/Dialog.jsx","components/Main/Messages/Message/Message.jsx","components/Main/Messages/Messages.jsx","hoc/withAuthRedirect.tsx","components/Main/Messages/MessagesContainer.jsx"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_typeof2","obj","Symbol","iterator","constructor","_typeof","_possibleConstructorReturn","self","call","ReferenceError","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","module","exports","Dialog","className","styles","dialog","to","String","id","name","Message","chatItem","profile","avatar","src","alt","message","maxLength","maxLengthCreator","Textarea","createField","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","validate","required","component","Messages","dialogsElements","state","dialogs","map","username","messagesElements","messages","output","chat","formData","buttonOnClick","mapStateToPropsForRedirect","isAuth","auth","compose","connect","messagesPage","dispatch","sendMessageActionCreator","Component","RedirectComponent","this","React"],"mappings":"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","file":"static/js/4.856a45a3.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__sE-hE\",\"output\":\"Messages_output__3DU-1\",\"dialogs\":\"Messages_dialogs__2NDBb\",\"chat\":\"Messages_chat__3KJVi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__PhsES\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatItem\":\"Message_chatItem__1I8h1\",\"profile\":\"Message_profile__PfNrB\",\"avatar\":\"Message_avatar__2V5Z4\"};","import React from 'react'\nimport styles from './Dialog.module.css'\nimport { NavLink } from 'react-router-dom'\n\nfunction Dialog (props) {\n  return (\n    <li className={styles.dialog}>\n      <NavLink to={`/messages/${String(props.id)}`}>{props.name}</NavLink>\n    </li>\n  )\n}\n\nexport default Dialog\n","import React from 'react'\nimport styles from './Message.module.css'\n\nfunction Message (props) {\n  return (\n    <li className={styles.chatItem}>\n      <div className={styles.profile}>\n        <img\n          className={styles.avatar}\n          src='https://miro.medium.com/max/480/1*5LGjgBL2kWpog3AodB569A.jpeg'\n          alt='avatar'\n        />\n        <div>{props.name}</div>\n      </div>\n      <div>\n        {props.message}\n      </div>\n    </li>\n  )\n}\n\nexport default Message\n","import React from 'react'\nimport styles from './Messages.module.css'\nimport Dialog from './Dialog/Dialog'\nimport Message from './Message/Message'\nimport { Field, reduxForm } from 'redux-form'\nimport { createField } from '../../common/FormsControls/createField'\nimport { maxLengthCreator, required } from '../../../utils/validators'\n\nconst maxLength = maxLengthCreator(10)\nconst Textarea = createField('textarea')\n\nfunction Messages (props) {\n  const dialogsElements = props.state.dialogs.map(\n    dialog => <Dialog key={dialog.id} id={dialog.id} name={dialog.username} />\n  )\n\n  const messagesElements = props.state.messages.map(\n    message => <Message\n      key={message.id} name={message.username}\n      message={message.message}\n               />\n  )\n\n  return (\n    <div className={styles.messages}>\n      <div className={styles.output}>\n        <ul className={styles.dialogs}>\n          {dialogsElements}\n        </ul>\n        <ul className={styles.chat}>\n          {messagesElements}\n        </ul>\n      </div>\n      <AddMessageFormRedux\n        onSubmit={(formData) => { props.buttonOnClick(formData) }}\n      />\n    </div>\n  )\n}\n\nfunction AddMessageForm (props) {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field\n          name='message' validate={[required, maxLength]}\n          component={Textarea}\n        />\n      </div>\n      <div>\n        <button>Отправить</button>\n      </div>\n    </form>\n  )\n}\n\nconst AddMessageFormRedux = reduxForm({ form: 'addMessage' })(AddMessageForm)\n\nexport default Messages\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { AppStateType } from '../redux/store'\r\n\r\nfunction mapStateToPropsForRedirect (state: AppStateType) {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport function withAuthRedirect (Component: React.ComponentType) {\r\n  type PropTypes = {\r\n    isAuth: boolean\r\n  }\r\n\r\n  class RedirectComponent extends React.Component<PropTypes> {\r\n    render () {\r\n      if (!this.props.isAuth) return <Redirect to='/login'/>\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}\r\n","import { sendMessageActionCreator } from '../../../redux/messages-reducer'\nimport Messages from './Messages'\nimport { connect } from 'react-redux'\nimport { withAuthRedirect } from '../../../hoc/withAuthRedirect'\nimport { compose } from 'redux'\n\nfunction mapStateToProps (state) {\n  return {\n    state: state.messagesPage\n  }\n}\n\nfunction mapDispatchToProps (dispatch) {\n  return {\n    buttonOnClick (formData) {\n      dispatch(sendMessageActionCreator(formData))\n    }\n  }\n}\n\n/*\nlet AuthRedirectComponent = withAuthRedirect(Messages);\nconst MessagesContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\nexport default MessagesContainer; */\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withAuthRedirect\n)(Messages)\n"],"sourceRoot":""}