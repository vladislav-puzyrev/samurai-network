(this["webpackJsonpsamurai-network"]=this["webpackJsonpsamurai-network"]||[]).push([[0],{10:function(e,t,n){e.exports={menu:"Menu_menu__27qdF",menuLink:"Menu_menuLink__EHAtu",active:"Menu_active__2D1vX"}},102:function(e,t,n){e.exports=n.p+"static/media/defaultAvatar.b4b85090.png"},11:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return l}));var a=n(1),r=n.n(a),s=n(132),c=n.n(s).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"ca3b0eb4-4af6-4803-8caa-f7d26464a12c"}}),u={getUsers:function(e,t){var n,a,s=arguments;return r.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"",u.next=3,r.a.awrap(c.get("users?count=".concat(e,"&page=").concat(t,"&term=").concat(n)));case 3:return a=u.sent,u.abrupt("return",a.data);case 5:case"end":return u.stop()}}))},isFollowing:function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.get("follow/".concat(e)));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},follow:function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.post("follow/".concat(e)));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},unfollow:function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.delete("follow/".concat(e)));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))}},o={getProfile:function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.get("profile/".concat(e)));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},getStatus:function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.get("profile/status/".concat(e)));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},updateStatus:function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.put("profile/status",{status:e}));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},updatePhoto:function(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("image",e),a.next=4,r.a.awrap(c.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}));case 4:return n=a.sent,a.abrupt("return",n.data);case 6:case"end":return a.stop()}}))},updateProfile:function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.put("profile",e));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))}},i={me:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(c.get("auth/me"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},login:function(e,t){var n,a,s,u=arguments;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=!(u.length>2&&void 0!==u[2])||u[2],a=u.length>3?u[3]:void 0,o.next=4,r.a.awrap(c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}));case 4:return s=o.sent,o.abrupt("return",s.data);case 6:case"end":return o.stop()}}))},logout:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(c.post("auth/logout"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))}},l={getCaptcha:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(c.get("security/get-captcha-url"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))}}},123:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var a=n(40),r=n(8),s="samurai-network/messages/SEND_MESSAGE",c={dialogs:[{id:1,username:"\u0414\u0438\u043c\u044b\u0447"},{id:2,username:"\u0421\u0430\u0448\u0430"},{id:3,username:"\u0412\u0430\u043b\u0435\u0440\u0430"},{id:4,username:"\u0418\u0432\u0430\u043d"},{id:5,username:"\u0421\u0432\u0435\u0442\u0430"}],messages:[{id:1,username:"\u0414\u0438\u043c\u044b\u0447",message:"\u042f \u043b\u044e\u0431\u043b\u044e react!"},{id:2,username:"\u0414\u0438\u043c\u044b\u0447",message:"\u042f \u043b\u044e\u0431\u043b\u044e react!"}]};var u=function(e){return{type:s,formData:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n={id:e.messages[e.messages.length-1].id+1,username:"username",message:t.formData.message};return Object(r.a)({},e,{messages:[].concat(Object(a.a)(e.messages),[n])});default:return e}}},128:function(e,t,n){e.exports={footer:"Footer_footer__3hmYT"}},129:function(e,t,n){e.exports={aside:"Sidebar_aside__1e2NK"}},131:function(e,t,n){e.exports={content:"Main_content__2h5Jj"}},134:function(e,t,n){e.exports={users:"UsersList_users__WQVOf"}},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},139:function(e,t,n){e.exports={error:"FormsControls_error__JuxJL"}},141:function(e,t,n){e.exports={button:"Button_button__OZeNM"}},168:function(e,t,n){e.exports=n(295)},173:function(e,t,n){},24:function(e,t,n){e.exports={user:"User_user__3Qdic",avatarBox:"User_avatarBox__dLefj",info:"User_info__3dI-o",userName:"User_userName__1AQPc",followButton:"User_followButton__y-S0x",sendMessage:"User_sendMessage__39BmE",userStatus:"User_userStatus__1tTcC"}},295:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),s=n(60),c=n.n(s),u=(n(173),n(15)),o=n(84),i=n.n(o),l=n(128),m=n.n(l);var f=function(){return r.a.createElement("footer",{className:m.a.footer},"samurai-network")},p=n(129),d=n.n(p),g=n(12),v=n(10),h=n.n(v);var b=function(){return r.a.createElement("ul",{className:h.a.menu},r.a.createElement("li",{className:h.a.menuItem},r.a.createElement(g.b,{exact:!0,to:"/profile",className:h.a.menuLink,activeClassName:h.a.active},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("li",{className:h.a.menuItem},r.a.createElement(g.b,{to:"/messages",className:h.a.menuLink,activeClassName:h.a.active},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),r.a.createElement("li",{className:h.a.menuItem},r.a.createElement(g.b,{to:"/users",className:h.a.menuLink,activeClassName:h.a.active},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),r.a.createElement("li",{className:h.a.menuItem},r.a.createElement(g.b,{to:"/news",className:h.a.menuLink,activeClassName:h.a.active},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),r.a.createElement("li",{className:h.a.menuItem},r.a.createElement(g.b,{to:"/music",className:h.a.menuLink,activeClassName:h.a.active},"\u041c\u0443\u0437\u044b\u043a\u0430")),r.a.createElement("li",{className:h.a.menuItem},r.a.createElement(g.b,{to:"/settings",className:h.a.menuLink,activeClassName:h.a.active},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")))};var E=function(){return r.a.createElement("aside",{className:d.a.aside},r.a.createElement(b,null))},w=n(29),_=n(131),x=n.n(_),N=n(59),y=n(1),O=n.n(y),P=n(40),S=n(8),C=n(11),k="samurai-network/users/FOLLOW",I="samurai-network/users/UNFOLLOW",j="samurai-network/users/SET_USERS",U="samurai-network/users/SET_CURRENT_PAGE",T="samurai-network/users/SET_TOTAL_USERS_COUNT",A="samurai-network/users/TOGGLE_IS_FETCHING",L="samurai-network/users/TOGGLE_IS_FOLLOWING_PROGRESS",F="samurai-network/users/SET_TERM",M={users:[],totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],term:""};var R=function(e){return{type:k,id:e}},G=function(e){return{type:I,id:e}},D=function(e){return{type:j,users:e}},z=function(e){return{type:T,totalUsers:e}},B=function(e){return{type:A,isFetching:e}},H=function(e,t){return{type:L,isFetching:e,userId:t}},J=function(e,t,n,a){return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(H(!0,t)),r.next=3,O.a.awrap(n(t));case 3:0===r.sent.resultCode&&e(a(t)),e(H(!1,t));case 6:case"end":return r.stop()}}))},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(S.a)({},e,{users:e.users.map((function(e){return e.id===t.id?Object(S.a)({},e,{followed:!0}):e}))});case I:return Object(S.a)({},e,{users:e.users.map((function(e){return e.id===t.id?Object(S.a)({},e,{followed:!1}):e}))});case j:return Object(S.a)({},e,{users:t.users});case U:return Object(S.a)({},e,{currentPage:t.currentPage});case T:return Object(S.a)({},e,{totalUsersCount:t.totalUsers});case A:return Object(S.a)({},e,{isFetching:t.isFetching});case L:return Object(S.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(P.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case F:return Object(S.a)({},e,{term:t.term});default:return e}},q=n(133),Q=function(e){return e.usersPage.users},V=Object(q.a)(Q,(function(e){return e.filter((function(){return!0}))})),Z=function(e){return e.usersPage.totalUsersCount},K=function(e){return e.usersPage.currentPage},X=function(e){return e.usersPage.isFetching},Y=function(e){return e.usersPage.followingInProgress},$=n(9),ee=n(48),te=n.n(ee),ne=r.a.memo((function(e){var t=e.setTerm,n=e.setCurrentPage,s=e.setPortionNumber,c=Object(a.useState)(""),u=Object(N.a)(c,2),o=u[0],i=u[1],l={cursor:o?"pointer":"not-allowed"};return r.a.createElement("div",{className:te.a.div},r.a.createElement("input",{placeholder:"\u041f\u043e\u0438\u0441\u043a",type:"text",onChange:function(e){i(e.target.value)},className:te.a.input,value:o}),r.a.createElement("button",{disabled:!o,style:l,onClick:function(){n(1),t(o),s(1)},className:te.a.button},"\u041d\u0430\u0439\u0442\u0438"),r.a.createElement("button",{onClick:function(){n(1),t(""),i(""),s(1)},className:te.a.reset},"\u0421\u0431\u0440\u043e\u0441"))})),ae=n(65),re=n.n(ae),se=n(86),ce=n.n(se),ue=function(e){var t=e.active,n=e.number,a=t?ce.a.paginationItemActive:"";return r.a.createElement("li",{className:ce.a.paginationItem+" "+a,"data-number":n},n)},oe=r.a.memo((function(e){var t=e.setCurrentPage,n=e.currentPage,s=e.totalUsersCount,c=e.pageSize,u=e.portionSize,o=e.getRequestUsers,i=e.term,l=e.portionNumber,m=e.setPortionNumber;Object(a.useEffect)((function(){o(c,n,i)}),[o,c,n,i]);for(var f=Math.ceil(s/c),p=[],d=1;d<s;d++)p.push(d);var g=Math.ceil(f/u),v=f/u*u,h=(l-1)*u+1,b=l*u;return r.a.createElement("div",{onClick:function(e){var n=+e.target.dataset.number;n&&function(e){o(c,e,i),t(e)}(n)},className:re.a.paginationItems},s>0&&r.a.createElement("button",{disabled:1===l,className:re.a.button,onClick:function(){m(l-1)}},"\u0412\u043b\u0435\u0432\u043e"),p.filter((function(e){return e>=h&&e<=b&&e<=v})).map((function(e){return r.a.createElement(ue,{key:e,number:e,active:+n===e})})),s>0&&r.a.createElement("button",{disabled:g===l,className:re.a.button,onClick:function(){m(l+1)}},"\u0412\u043f\u0440\u0430\u0432\u043e"))})),ie=n(134),le=n.n(ie),me=n(24),fe=n.n(me),pe=n(102),de=n.n(pe);var ge=function(e){var t=e.user,n=e.followButtonDisabled,a=e.unfollow,s=e.follow;return r.a.createElement("li",{className:fe.a.user},r.a.createElement("div",{className:fe.a.avatarBox},r.a.createElement(g.b,{to:"/profile/".concat(t.id)},r.a.createElement("img",{src:t.photos.small||de.a,alt:"avatar"}))),r.a.createElement("div",{className:fe.a.info},r.a.createElement(g.b,{className:fe.a.userName,to:"/profile/".concat(t.id)},t.name),t.status&&r.a.createElement("span",{className:fe.a.userStatus},t.status),t.followed?r.a.createElement("button",{className:fe.a.followButton,disabled:n,onClick:function(){a(t.id)}},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f ",r.a.createElement("span",{"aria-label":"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",role:"img"},"\u274c")):r.a.createElement("button",{className:fe.a.followButton,disabled:n,onClick:function(){s(t.id)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f ",r.a.createElement("span",{"aria-label":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",role:"img"},"\u2705")),r.a.createElement(g.b,{to:"/messages/".concat(t.id),className:fe.a.sendMessage},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")))},ve=n(36),he=r.a.memo((function(e){var t=e.users,n=e.followingInProgress,a=e.follow,s=e.unfollow,c=e.isFetching,u=t.length?t.map((function(e){return r.a.createElement(ge,{key:e.id,user:e,followButtonDisabled:n.some((function(t){return t===e.id})),follow:a,unfollow:s})})):"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e";return c?r.a.createElement(ve.a,null):r.a.createElement("ul",{className:le.a.users},u)}));var be=Object($.d)(Object(u.b)((function(e){return{users:V(e),totalUsersCount:Z(e),currentPage:K(e),isFetching:X(e),followingInProgress:Y(e),term:e.usersPage.term}}),{setCurrentPage:function(e){return{type:U,currentPage:e}},setIsFetching:B,getRequestUsers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a,r){var s;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a(B(!0)),r.next=3,O.a.awrap(C.d.getUsers(e,t,n));case 3:s=r.sent,a(D(s.items)),a(z(s.totalCount)),a(B(!1));case 7:case"end":return r.stop()}}))}},follow:function(e){return function(t,n){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a=C.d.follow.bind(C.d),J(t,e,a,R);case 2:case"end":return n.stop()}}))}},unfollow:function(e){return function(t,n){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a=C.d.unfollow.bind(C.d),J(t,e,a,G);case 2:case"end":return n.stop()}}))}},setTerm:function(e){return{type:F,term:e}}}))((function(e){var t=e.currentPage,n=e.totalUsersCount,s=e.isFetching,c=e.users,u=e.followingInProgress,o=e.setCurrentPage,i=e.follow,l=e.unfollow,m=e.setTerm,f=e.getRequestUsers,p=e.term;Object(a.useEffect)((function(){return function(){o(1)}}),[o]);var d=Object(a.useState)(1),g=Object(N.a)(d,2),v=g[0],h=g[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"),r.a.createElement(ne,{setTerm:m,setCurrentPage:o,setPortionNumber:h}),r.a.createElement(oe,{totalUsersCount:n,currentPage:t,pageSize:6,portionSize:10,getRequestUsers:f,term:p,setCurrentPage:o,portionNumber:v,setPortionNumber:h}),r.a.createElement(he,{users:c,followingInProgress:u,follow:i,unfollow:l,isFetching:s}))})),Ee=n(135),we=n.n(Ee);var _e=function(){return r.a.createElement("div",{className:we.a.messages},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")},xe=n(136),Ne=n.n(xe);var ye=function(){return r.a.createElement("div",{className:Ne.a.messages},"\u041c\u0443\u0437\u044b\u043a\u0430")},Oe=n(137),Pe=n.n(Oe);var Se=function(){return r.a.createElement("div",{className:Pe.a.messages},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")},Ce=n(124),ke=n(125),Ie=n(90),je=n(50),Ue=n(33),Te="samurai-network/app/INITIALIZED_SUCCESS",Ae={initialized:!1};var Le=function(){return function(e,t){var n;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t().auth.isAuth){a.next=5;break}return a.next=3,O.a.awrap(C.b.getProfile(t().auth.userId));case 3:n=a.sent,e(He(n));case 5:case"end":return a.stop()}}))}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae;switch((arguments.length>1?arguments[1]:void 0).type){case Te:return Object(S.a)({},e,{initialized:!0});default:return e}},Me="samurai-network/auth/SET_USER_DATA",Re="samurai-network/auth/GET_CAPTCHA_URL_SUCCESS",Ge="samurai-network/auth/SET_MY_PROFILE",De={userId:null,email:null,login:null,isFetching:!1,isAuth:!1,captchaUrl:null,myProfile:null};var ze=function(e,t,n,a){return{type:Me,payload:{userId:e,email:t,login:n,isAuth:a}}},Be=function(e){return{type:Re,captchaUrl:e}},He=function(e){return{type:Ge,profile:e}},Je=function(){return function(e){var t,n,a,r,s;return O.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,O.a.awrap(C.a.me());case 2:0===(t=c.sent).resultCode&&(n=t.data,a=n.id,r=n.email,s=n.login,e(ze(a,r,s,!0)));case 4:case"end":return c.stop()}}))}},We=function(){return function(e){var t,n;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(C.c.getCaptcha());case 2:t=a.sent,n=t.url,e(Be(n));case 5:case"end":return a.stop()}}))}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(S.a)({},e,{},t.payload);case Re:return Object(S.a)({},e,{captchaUrl:t.captchaUrl});case Ge:return Object(S.a)({},e,{myProfile:t.profile});default:return e}},Qe=Object(Ie.a)("input");var Ve=Object(ke.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,a=e.captchaUrl;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(Ce.a,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",component:Qe,validate:[je.b]})),r.a.createElement("div",null,r.a.createElement(Ce.a,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",component:Qe,validate:[je.b]})),r.a.createElement(Ce.a,{type:"checkbox",name:"rememberMe",id:"rememberMe",component:Qe,checked:!0}),r.a.createElement("label",{htmlFor:"rememberMe"},"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"),a&&r.a.createElement("img",{src:a,alt:"captcha"}),a&&r.a.createElement(Ce.a,{type:"text",placeholder:"\u041a\u0430\u043f\u0447\u0430",name:"captcha",component:Qe,validate:[je.b]}),n?r.a.createElement("div",{style:{color:"red"}},n):null,r.a.createElement("div",null,r.a.createElement("button",null,"\u0412\u043e\u0439\u0442\u0438")))})),Ze=Object(u.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,a){return function(r){var s;return O.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,O.a.awrap(C.a.login(e,t,n,a));case 2:0===(s=c.sent).resultCode?r(Je()).then((function(){r(Le())})):(10===s.resultCode&&r(We()),r(Object(Ue.a)("login",{_error:s.messages[0]})));case 4:case"end":return c.stop()}}))}}})((function(e){return e.isAuth?r.a.createElement(w.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(Ve,{captchaUrl:e.captchaUrl,onSubmit:function(t){var n,a,r,s;return O.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:n=t.login,a=t.password,r=t.rememberMe,s=t.captcha,e.login(n,a,r,s);case 2:case"end":return c.stop()}}))}}))}));function Ke(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(ve.a,null)},r.a.createElement(e,t))}}var Xe=r.a.lazy((function(){return n.e(4).then(n.bind(null,310))})),Ye=r.a.lazy((function(){return n.e(3).then(n.bind(null,309))}));var $e=function(){return r.a.createElement("div",{className:x.a.content},r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:"/",render:function(){return r.a.createElement(w.a,{to:"/profile"})}}),r.a.createElement(w.b,{path:"/profile/:userId?",render:Ke(Ye)}),r.a.createElement(w.b,{path:"/messages",render:Ke(Xe)}),r.a.createElement(w.b,{path:"/users",render:function(){return r.a.createElement(be,null)}}),r.a.createElement(w.b,{path:"/news",component:_e}),r.a.createElement(w.b,{path:"/music",component:ye}),r.a.createElement(w.b,{path:"/settings",component:Se}),r.a.createElement(w.b,{path:"/login",render:function(){return r.a.createElement(Ze,null)}}),r.a.createElement(w.b,{path:"*",render:function(){return"404"}})))},et=n(32),tt=n.n(et),nt=n(141),at=n.n(nt),rt=function(e){var t=e.width,n=e.children,a=e.onClick;return r.a.createElement("button",{onClick:a,style:{width:t},className:at.a.button},n)},st=Object(u.b)((function(e){return{isAuth:e.auth.isAuth,myProfile:e.auth.myProfile}}),{logout:function(){return function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(C.a.logout());case 2:0===t.sent.resultCode&&e(ze(null,null,null,!1));case 4:case"end":return t.stop()}}))}}})((function(e){var t=e.isAuth,n=e.logout,a=e.myProfile;return r.a.createElement("header",{className:tt.a.header},r.a.createElement("div",{className:tt.a.container},r.a.createElement("div",null,"Samurai-Network"),t&&a&&a.photos.small?r.a.createElement("div",{className:tt.a.infoMe},r.a.createElement("span",{className:tt.a.userName},a.fullName.split(" ")[0]),r.a.createElement("img",{className:tt.a.avatar,src:a.photos.small,alt:"avatar"}),r.a.createElement(rt,{onClick:n},"\u0412\u044b\u0439\u0442\u0438")):r.a.createElement(g.b,{to:"/login",className:tt.a.login},"Login")))}));var ct=Object(u.b)((function(e){return{initialized:e.init.initialized}}),{initializeApp:function(){return function(e){e(Je()).then((function(){e(Le()).then((function(){e({type:Te})}))}))}}})((function(e){var t=e.initializeApp,n=e.initialized;return Object(a.useEffect)((function(){t()}),[t]),n?r.a.createElement(r.a.StrictMode,null,r.a.createElement(g.a,null,r.a.createElement("div",{className:i.a.page},r.a.createElement(st,null),r.a.createElement("main",{className:i.a.main},r.a.createElement(E,null),r.a.createElement($e,null)),r.a.createElement(f,null)))):r.a.createElement(ve.a,{fullscreen:!0})})),ut=n(91),ot=n(123),it=n(142),lt=n(126),mt=Object($.c)({profilePage:ut.b,messagesPage:ot.a,usersPage:W,auth:qe,init:Fe,form:lt.a}),ft=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$.d,pt=Object($.e)(mt,ft(Object($.a)(it.a)));c.a.render(r.a.createElement(u.a,{store:pt},r.a.createElement(ct,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,n){e.exports={header:"Header_header__2CR8J",container:"Header_container__HDvgl",userName:"Header_userName__3dpGW",avatar:"Header_avatar__34Ghc",infoMe:"Header_infoMe__UMQTd"}},36:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(49),c=n.n(s),u=n(87),o=n.n(u);t.a=function(e){var t=e.fullscreen;return void 0!==t&&t?r.a.createElement("div",{className:c.a.wrapper},r.a.createElement("div",{className:c.a.preloader},r.a.createElement("img",{className:c.a.preloaderIMG,src:o.a,alt:"load"}))):r.a.createElement("img",{className:c.a.preloaderIMG,src:o.a,alt:"load"})}},48:function(e,t,n){e.exports={div:"Search_div__2HjV8",input:"Search_input__1SF7g",button:"Search_button__tmFR-",reset:"Search_reset__2G7ng"}},49:function(e,t,n){e.exports={preloaderIMG:"Preloader_preloaderIMG__BZHNf",wrapper:"Preloader_wrapper__1pJ8g",preloader:"Preloader_preloader__oGcz1"}},50:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},r=function(e){return function(t){if(t.length>e)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 - ".concat(e)}}},65:function(e,t,n){e.exports={paginationItems:"Paginator_paginationItems__2iECZ",button:"Paginator_button__1_Jp0"}},84:function(e,t,n){e.exports={page:"App_page__4Klr-",main:"App_main__1nCkj"}},86:function(e,t,n){e.exports={paginationItem:"PaginationItem_paginationItem__1EdWb",paginationItemActive:"PaginationItem_paginationItemActive__1EfE6"}},87:function(e,t,n){e.exports=n.p+"static/media/preloader.584b607f.gif"},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(138),r=n(0),s=n.n(r),c=n(139),u=n.n(c);function o(e){return function(t){var n=t.meta,r=t.input,c=Object(a.a)(t,["meta","input"]),o=n.error&&n.touched;return s.a.createElement("span",{className:o?u.a.error:null},s.a.createElement(e,Object.assign({},r,c)),o&&s.a.createElement("span",null,n.error))}}},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return _}));var a=n(1),r=n.n(a),s=n(40),c=n(8),u=n(11),o=n(33),i="samurai-network/profile/ADD_POST",l="samurai-network/profile/SET_USER_PROFILE",m="samurai-network/profile/SET_STATUS",f="samurai-network/profile/DELETE_POST",p="samurai-network/profile/SAVE_PHOTO_SUCCESS",d={posts:[{id:1,text:"\u0412\u0430\u043c \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f React?",likes:4},{id:2,text:"hey",likes:2}],profile:null,status:""};var g=function(e){return{type:i,post:e.newPost}},v=function(e){return{type:m,status:e}},h=function(e){return function(t){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(u.b.getProfile(e));case 2:n=a.sent,t({type:l,profile:n});case 4:case"end":return a.stop()}}))}},b=function(e){return function(t){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(u.b.getStatus(e));case 2:n=a.sent,t(v(n));case 4:case"end":return a.stop()}}))}},E=function(e){return function(t){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(u.b.updateStatus(e));case 2:0===n.sent.resultCode&&t(v(e));case 4:case"end":return n.stop()}}))}},w=function(e){return function(t){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(u.b.updatePhoto(e));case 2:0===(n=a.sent).resultCode&&t((s=n.data.photos,{type:p,photos:s}));case 4:case"end":return a.stop()}var s}))}},_=function(e){return function(t,n){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(u.b.updateProfile(e));case 2:if(0!==a.sent.resultCode){a.next=7;break}t(h(n().auth.userId)),a.next=9;break;case 7:return t(Object(o.a)("edit-profile",{_error:"response.data.messages[0]"})),a.abrupt("return",Promise.reject());case 9:case"end":return a.stop()}}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n={id:e.posts[e.posts.length-1].id+1,text:t.post,likes:0};return Object(c.a)({},e,{posts:[].concat(Object(s.a)(e.posts),[n])});case l:return Object(c.a)({},e,{profile:t.profile});case m:return Object(c.a)({},e,{status:t.status});case f:return Object(c.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case p:return Object(c.a)({},e,{profile:Object(c.a)({},e.profile,{photos:t.photos})});default:return e}}}},[[168,1,2]]]);
//# sourceMappingURL=main.7d4df12c.chunk.js.map