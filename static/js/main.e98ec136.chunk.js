(this["webpackJsonpsamurai-network"]=this["webpackJsonpsamurai-network"]||[]).push([[0],{10:function(e,t,a){e.exports={friends:"Friends_friends__2pd-3",friendsTitle:"Friends_friendsTitle__2OCH8",friendsList:"Friends_friendsList__2jOr8",friendsListItem:"Friends_friendsListItem__3pxKP",avatar:"Friends_avatar__qQ2lI"}},11:function(e,t,a){e.exports={menu:"Menu_menu__27qdF",menuLink:"Menu_menuLink__EHAtu",active:"Menu_active__2D1vX"}},12:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o}));var n=a(136),r=n.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"5079166b-0f68-4c7f-b979-92c9ccc1e74a"}}),s={getUsers:function(e,t){return r.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},c={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return console.log(e),r.put("profile",e)}},i={me:function(){return r.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")}},o={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},125:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var n=a(39),r=a(8),s={dialogs:[{id:1,username:"\u0414\u0438\u043c\u044b\u0447"},{id:2,username:"\u0421\u0430\u0448\u0430"},{id:3,username:"\u0412\u0430\u043b\u0435\u0440\u0430"},{id:4,username:"\u0418\u0432\u0430\u043d"},{id:5,username:"\u0421\u0432\u0435\u0442\u0430"}],messages:[{id:1,username:"\u0414\u0438\u043c\u044b\u0447",message:"\u042f \u043b\u044e\u0431\u043b\u044e react!"},{id:2,username:"\u0414\u0438\u043c\u044b\u0447",message:"\u042f \u043b\u044e\u0431\u043b\u044e react!"}]};var c=function(e){return{type:"SEND-MESSAGE",formData:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var a={id:e.messages[e.messages.length-1].id+1,message:t.formData.message};return Object(r.a)({},e,{messages:[].concat(Object(n.a)(e.messages),[a])});default:return e}}},130:function(e,t,a){e.exports={footer:"Footer_footer__3hmYT"}},131:function(e,t,a){e.exports={aside:"Sidebar_aside__1e2NK"}},133:function(e,t,a){e.exports={content:"Content_content__fZ86A"}},134:function(e,t,a){e.exports={preloader:"Preloader_preloader__oGcz1"}},135:function(e,t,a){e.exports=a.p+"static/media/preloader.584b607f.gif"},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},142:function(e,t,a){e.exports={error:"FormsControls_error__JuxJL"}},170:function(e,t,a){e.exports=a(297)},175:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),s=a(56),c=a.n(s),i=(a(175),a(19)),o=a(81),u=a.n(o),l=a(130),m=a.n(l);var f=function(){return r.a.createElement("footer",{className:m.a.footer},"Footer")},d=a(131),p=a.n(d),g=a(10),v=a.n(g);var h=function(){return r.a.createElement("div",{className:v.a.friends},r.a.createElement("div",{className:v.a.friendsTitle},"\u0414\u0440\u0443\u0437\u044c\u044f"),r.a.createElement("ul",{className:v.a.friendsList},r.a.createElement("li",{className:v.a.friendsListItem},r.a.createElement("img",{className:v.a.avatar,src:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg",alt:"avatar"}),r.a.createElement("div",{className:v.a.name},"\u0414\u0438\u043c\u044b\u0447")),r.a.createElement("li",{className:v.a.friendsListItem},r.a.createElement("img",{className:v.a.avatar,src:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg",alt:"avatar"}),r.a.createElement("div",{className:v.a.name},"\u0414\u0438\u043c\u044b\u0447")),r.a.createElement("li",{className:v.a.friendsListItem},r.a.createElement("img",{className:v.a.avatar,src:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg",alt:"avatar"}),r.a.createElement("div",{className:v.a.name},"\u0414\u0438\u043c\u044b\u0447")),r.a.createElement("li",{className:v.a.friendsListItem},r.a.createElement("img",{className:v.a.avatar,src:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg",alt:"avatar"}),r.a.createElement("div",{className:v.a.name},"\u0414\u0438\u043c\u044b\u0447")),r.a.createElement("li",{className:v.a.friendsListItem},r.a.createElement("img",{className:v.a.avatar,src:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg",alt:"avatar"}),r.a.createElement("div",{className:v.a.name},"\u0414\u0438\u043c\u044b\u0447")),r.a.createElement("li",{className:v.a.friendsListItem},r.a.createElement("img",{className:v.a.avatar,src:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg",alt:"avatar"}),r.a.createElement("div",{className:v.a.name},"\u0414\u0438\u043c\u044b\u0447"))))},E=a(15),b=a(11),_=a.n(b);var w=function(){return r.a.createElement("ul",{className:_.a.menu},r.a.createElement("li",{className:_.a.menuItem},r.a.createElement(E.b,{exact:!0,to:"/profile",className:_.a.menuLink,activeClassName:_.a.active},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("li",{className:_.a.menuItem},r.a.createElement(E.b,{to:"/messages",className:_.a.menuLink,activeClassName:_.a.active},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),r.a.createElement("li",{className:_.a.menuItem},r.a.createElement(E.b,{to:"/users",className:_.a.menuLink,activeClassName:_.a.active},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),r.a.createElement("li",{className:_.a.menuItem},r.a.createElement(E.b,{to:"/news",className:_.a.menuLink,activeClassName:_.a.active},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),r.a.createElement("li",{className:_.a.menuItem},r.a.createElement(E.b,{to:"/music",className:_.a.menuLink,activeClassName:_.a.active},"\u041c\u0443\u0437\u044b\u043a\u0430")),r.a.createElement("li",{className:_.a.menuItem},r.a.createElement(E.b,{to:"/settings",className:_.a.menuLink,activeClassName:_.a.active},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")))};var O=function(){return r.a.createElement("aside",{className:p.a.aside},r.a.createElement(w,null),r.a.createElement(h,null))},N=a(29),j=a(133),x=a.n(j),P=a(88),S=a(89),I=a(92),y=a(90),C=a(93),k=a(61),U=a.n(k),L=a(83),T=a.n(L);var A=function(e){var t=e.active?T.a.paginationItemActive:"";return r.a.createElement("li",{className:T.a.paginationItem+" "+t},e.number)},F=a(84),D=a.n(F),R=a(96),z=a.n(R);var G=function(e){return r.a.createElement("li",{className:D.a.user},r.a.createElement("div",{className:D.a.avatarBox},r.a.createElement(E.b,{to:"/profile/".concat(e.user.id)},r.a.createElement("img",{src:e.user.photos.small||z.a,alt:"avatar",width:"100"})),e.user.followed?r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unfollow(e.user.id)}},"unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.follow(e.user.id)}},"follow")),r.a.createElement("div",null,e.user.name,e.user.status))},M=a(35);var H=function(e){for(var t=[],a=+e.currentPage;a<+e.currentPage+5;a++)a<+e.totalUsersCount&&t.push(r.a.createElement(A,{key:a,number:a,active:e.currentPage===+a}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:U.a.title},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"),r.a.createElement("ul",{className:U.a.pagination,onClick:function(t){e.onPageChanged(t.target.textContent),e.setCurrentPage(t.target.textContent)}},t),e.isFetching&&r.a.createElement(M.a,null),r.a.createElement("ul",{className:U.a.users},e.users.map((function(t){return r.a.createElement(G,Object.assign({},e,{key:t.id,user:t}))}))))},q=a(7),W=a.n(q),B=a(39),J=a(8),X=a(12),K="FOLLOW",Q="UNFOLLOW",Y="SET-USERS",Z="SET-CURRENT-PAGE",V="SET-TOTAL-USERS-COUNT",$="TOGGLE-IS-FETCHING",ee="TOGGLE_IS_FOLLOWING_PROGRESS",te={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]};var ae=function(e){return{type:K,id:e}},ne=function(e){return{type:Q,id:e}},re=function(e){return{type:$,isFetching:e}},se=function(e,t){return{type:ee,isFetching:e,userId:t}},ce=function(e,t,a,n){return W.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(se(!0,t)),r.next=3,W.a.awrap(a(t));case 3:0===r.sent.data.resultCode&&e(n(t)),e(se(!1,t));case 6:case"end":return r.stop()}}))},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(J.a)({},e,{users:e.users.map((function(e){return e.id===t.id?Object(J.a)({},e,{followed:!0}):e}))});case Q:return Object(J.a)({},e,{users:e.users.map((function(e){return e.id===t.id?Object(J.a)({},e,{followed:!1}):e}))});case Y:return Object(J.a)({},e,{users:t.users});case Z:return Object(J.a)({},e,{currentPage:t.currentPage});case V:return Object(J.a)({},e,{totalUsersCount:t.totalUsers});case $:return Object(J.a)({},e,{isFetching:t.isFetching});case ee:return Object(J.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(B.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},oe=a(137),ue=function(e){return e.usersPage.users},le=Object(oe.a)(ue,(function(e){return e.filter((function(){return!0}))})),me=function(e){return e.usersPage.pageSize},fe=function(e){return e.usersPage.totalUsersCount},de=function(e){return e.usersPage.currentPage},pe=function(e){return e.usersPage.isFetching},ge=function(e){return e.usersPage.followingInProgress},ve=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(I.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){a.props.getRequestUsers(a.props.pageSize,e)},a}return Object(C.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.getRequestUsers(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){return r.a.createElement(H,Object.assign({},this.props,{onPageChanged:this.onPageChanged}))}}]),t}(r.a.Component);var he=Object(i.b)((function(e){return{users:le(e),pageSize:me(e),totalUsersCount:fe(e),currentPage:de(e),isFetching:pe(e),followingInProgress:ge(e)}}),{setCurrentPage:function(e){return{type:Z,currentPage:e}},setIsFetching:re,getRequestUsers:function(e,t){return function(a){var n;return W.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a(re(!0)),r.next=3,W.a.awrap(X.d.getUsers(e,t));case 3:n=r.sent,a((c=n.items,{type:Y,users:c})),a((s=n.totalCount,{type:V,totalUsers:s})),a(re(!1));case 7:case"end":return r.stop()}var s,c}))}},follow:function(e){return function(t){var a=X.d.follow.bind(X.d);ce(t,e,a,ae)}},unfollow:function(e){return function(t){var a=X.d.unfollow.bind(X.d);ce(t,e,a,ne)}}})(ve),Ee=a(138),be=a.n(Ee);var _e=function(){return r.a.createElement("div",{className:be.a.messages},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")},we=a(139),Oe=a.n(we);var Ne=function(){return r.a.createElement("div",{className:Oe.a.messages},"\u041c\u0443\u0437\u044b\u043a\u0430")},je=a(140),xe=a.n(je);var Pe=function(){return r.a.createElement("div",{className:xe.a.messages},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")},Se=a(126),Ie=a(127),ye=a(87),Ce=a(47),ke=a(32),Ue="social-network/auth/SET_USER_DATA",Le="social-network/auth/GET_CAPTCHA_URL_SUCCESS",Te={userId:null,email:null,login:null,isFetching:!1,isAuth:!1,captchaUrl:null};var Ae=function(e,t,a,n){return{type:Ue,payload:{userId:e,email:t,login:a,isAuth:n}}},Fe=function(e){return{type:Le,captchaUrl:e}},De=function(){return function(e){var t,a,n,r,s;return W.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,W.a.awrap(X.a.me());case 2:0===(t=c.sent).data.resultCode&&(a=t.data.data,n=a.id,r=a.email,s=a.login,e(Ae(n,r,s,!0)));case 4:case"end":return c.stop()}}))}},Re=function(){return function(e){var t,a;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W.a.awrap(X.c.getCaptchaUrl());case 2:t=n.sent,a=t.data.url,e(Fe(a));case 5:case"end":return n.stop()}}))}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(J.a)({},e,{},t.payload);case Le:return console.log(t.captchaUrl),Object(J.a)({},e,{captchaUrl:t.captchaUrl});default:return e}},Ge=Object(ye.a)("input");var Me=Object(Ie.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.error,n=e.captchaUrl;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(Se.a,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",component:Ge,validate:[Ce.b]})),r.a.createElement("div",null,r.a.createElement(Se.a,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",component:Ge,validate:[Ce.b]})),r.a.createElement(Se.a,{type:"checkbox",name:"rememberMe",id:"rememberMe",component:Ge}),r.a.createElement("label",{htmlFor:"rememberMe"},"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"),n&&r.a.createElement("img",{src:n,alt:"captcha"}),n&&r.a.createElement(Se.a,{type:"text",placeholder:"\u041a\u0430\u043f\u0447\u0430",name:"captcha",component:Ge,validate:[Ce.b]}),a?r.a.createElement("div",{style:{color:"red"}},a):null,r.a.createElement("div",null,r.a.createElement("button",null,"\u0412\u043e\u0439\u0442\u0438")))})),He=Object(i.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,a,n){return function(r){var s;return W.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,W.a.awrap(X.a.login(e,t,a,n));case 2:0===(s=c.sent).data.resultCode?r(De()):(10===s.data.resultCode&&r(Re()),r(Object(ke.a)("login",{_error:s.data.messages[0]})));case 4:case"end":return c.stop()}}))}}})((function(e){return e.isAuth?r.a.createElement(N.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(Me,{captchaUrl:e.captchaUrl,onSubmit:function(t){var a=t.login,n=t.password,r=t.rememberMe,s=t.captcha;e.login(a,n,r,s)}}))}));function qe(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(M.a,null)},r.a.createElement(e,t))}}var We=r.a.lazy((function(){return a.e(4).then(a.bind(null,307))})),Be=r.a.lazy((function(){return a.e(3).then(a.bind(null,306))}));var Je=function(){return r.a.createElement("div",{className:x.a.content},r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/",render:function(){return r.a.createElement(N.a,{to:"/profile"})}}),r.a.createElement(N.b,{path:"/profile/:userId?",render:qe(Be)}),r.a.createElement(N.b,{path:"/messages",render:qe(We)}),r.a.createElement(N.b,{path:"/users",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(N.b,{path:"/news",component:_e}),r.a.createElement(N.b,{path:"/music",component:Ne}),r.a.createElement(N.b,{path:"/settings",component:Pe}),r.a.createElement(N.b,{path:"/login",render:function(){return r.a.createElement(He,null)}}),r.a.createElement(N.b,{path:"*",render:function(){return"404"}})))},Xe=a(63),Ke=a.n(Xe);var Qe=function(e){return r.a.createElement("header",{className:Ke.a.header},r.a.createElement("div",{className:Ke.a.container},r.a.createElement("div",null,"LOGO"),e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.logout},"\u0412\u044b\u0439\u0442\u0438")):r.a.createElement(E.b,{to:"/login",className:Ke.a.login},"Login")))};var Ye=Object(i.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(e){return W.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.a.awrap(X.a.logout());case 2:0===t.sent.data.resultCode&&e(Ae(null,null,null,!1));case 4:case"end":return t.stop()}}))}}})((function(e){return r.a.createElement(Qe,e)})),Ze="SET_INITIALIZED",Ve={initialized:!1};var $e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;switch((arguments.length>1?arguments[1]:void 0).type){case Ze:return Object(J.a)({},e,{initialized:!0});default:return e}},et=a(9),tt=a(91),at=a(125),nt={friends:[{id:1,username:"\u0414\u0438\u043c\u044b\u0447",avatar:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg"},{id:2,username:"\u041a\u043e\u043b\u044f\u043d",avatar:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg"},{id:3,username:"\u0421\u0435\u0440\u0435\u0433\u0430",avatar:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg"}]};var rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return arguments.length>1&&arguments[1],e},st=a(144),ct=a(128),it=Object(et.c)({profilePage:tt.b,messagesPage:at.a,usersPage:ie,sidebar:rt,auth:ze,init:$e,form:ct.a}),ot=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||et.d,ut=Object(et.e)(it,ot(Object(et.a)(st.a)));window._store=ut;var lt=ut;var mt=Object(i.b)((function(e){return{initialized:e.init.initialized}}),{initializeApp:function(){return function(e){Promise.all([e(De())]).then((function(){e({type:Ze})}))}}})((function(e){return Object(n.useEffect)((function(){e.initializeApp()})),e.initialized?r.a.createElement("div",{className:u.a.page},r.a.createElement(Ye,null),r.a.createElement("main",{className:u.a.main},r.a.createElement(O,null),r.a.createElement(Je,null)),r.a.createElement(f,null)):r.a.createElement(M.a,null)}));c.a.render(r.a.createElement((function(e){return r.a.createElement(i.a,{store:lt},r.a.createElement(E.a,null,r.a.createElement(mt,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(134),c=a.n(s),i=a(135),o=a.n(i);t.a=function(){return r.a.createElement("img",{className:c.a.preloader,src:o.a,alt:"load"})}},47:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},r=function(e){return function(t){if(t.length>e)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 - ".concat(e)}}},61:function(e,t,a){e.exports={pagination:"Users_pagination__nolDT",users:"Users_users__2YeWT"}},63:function(e,t,a){e.exports={header:"Header_header__2CR8J",container:"Header_container__HDvgl"}},81:function(e,t,a){e.exports={page:"App_page__1LZ-Q",main:"App_main__3O7Q8"}},83:function(e,t,a){e.exports={paginationItem:"PaginationItem_paginationItem__10Dwb",paginationItemActive:"PaginationItem_paginationItemActive__vaSqg"}},84:function(e,t,a){e.exports={avatarBox:"User_avatarBox__1_XPd"}},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(141),r=a(0),s=a.n(r),c=a(142),i=a.n(c);function o(e){return function(t){var a=t.meta,r=t.input,c=Object(n.a)(t,["meta","input"]),o=a.error&&a.touched;return s.a.createElement("span",{className:o?i.a.error:null},s.a.createElement(e,Object.assign({},r,c)),o&&s.a.createElement("span",null,a.error))}}},91:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return g})),a.d(t,"c",(function(){return v})),a.d(t,"g",(function(){return h})),a.d(t,"e",(function(){return E})),a.d(t,"f",(function(){return b}));var n=a(7),r=a.n(n),s=a(39),c=a(8),i=a(12),o=a(32),u="SET_STATUS",l="DELETE_POST",m="SAVE_PHOTO_SUCCESS",f={posts:[{id:1,text:"\u0412\u0430\u043c \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f React?",likes:4},{id:2,text:"hey",likes:2}],profile:null,status:""};var d=function(e){return{type:"ADD-POST",post:e.newPost}},p=function(e){return{type:u,status:e}},g=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.b.getProfile(e));case 2:a=n.sent,t({type:"SET-USER-PROFILE",profile:a.data});case 4:case"end":return n.stop()}}))}},v=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.b.getStatus(e));case 2:a=n.sent,t(p(a.data));case 4:case"end":return n.stop()}}))}},h=function(e){return function(t){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(i.b.updateStatus(e));case 2:0===a.sent.data.resultCode&&t(p(e));case 4:case"end":return a.stop()}}))}},E=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.b.savePhoto(e));case 2:0===(a=n.sent).data.resultCode&&t((s=a.data.data.photos,{type:m,photos:s}));case 4:case"end":return n.stop()}var s}))}},b=function(e){return function(t,a){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.b.saveProfile(e));case 2:if(0!==n.sent.data.resultCode){n.next=7;break}t(g(a().auth.userId)),n.next=9;break;case 7:return t(Object(o.a)("edit-profile",{_error:"response.data.messages[0]"})),n.abrupt("return",Promise.reject());case 9:case"end":return n.stop()}}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:e.posts[e.posts.length-1].id+1,text:t.post,likes:0};return Object(c.a)({},e,{posts:[].concat(Object(s.a)(e.posts),[a]),postText:""});case"SET-USER-PROFILE":return Object(c.a)({},e,{profile:t.profile});case u:return Object(c.a)({},e,{status:t.status});case l:return Object(c.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case m:return Object(c.a)({},e,{profile:Object(c.a)({},e.profile,{photos:t.photos})});default:return e}}},96:function(e,t,a){e.exports=a.p+"static/media/defaultAvatar.b4b85090.png"}},[[170,1,2]]]);
//# sourceMappingURL=main.e98ec136.chunk.js.map